<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.38" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://chenyl8848.github.io/server/docker/Docker.html"><meta property="og:site_name" content="Javaé™ˆåºå‘˜"><meta property="og:title" content="Docker ä¸‡å­—å…¥é—¨æ•™ç¨‹"><meta property="og:type" content="article"><meta property="og:updated_time" content="2024-10-10T03:26:59.000Z"><meta property="og:locale" content="zh-CN"><meta property="article:tag" content="Docker"><meta property="article:published_time" content="2022-04-10T00:00:00.000Z"><meta property="article:modified_time" content="2024-10-10T03:26:59.000Z"><link rel="stylesheet" href="//at.alicdn.com/t/c/font_3316994_227lwxrw41z.css"><title>Docker ä¸‡å­—å…¥é—¨æ•™ç¨‹ | Javaé™ˆåºå‘˜</title><meta name="description" content="Javaé™ˆåºå‘˜çš„ä¸ªäººåšå®¢ç½‘ç«™">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d2025;
      }

      html,
      body {
        background-color: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.querySelector("html").setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="stylesheet" href="/assets/style.7c8a6ce0.css">
    <link rel="modulepreload" href="/assets/app.06d697e7.js"><link rel="modulepreload" href="/assets/Docker.html.4e09560a.js"><link rel="modulepreload" href="/assets/Docker.html.9c1b51e3.js">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="skip-link sr-only">Skip to content</a><!--]--><div class="theme-container has-toc sidebar-open"><!--[--><header class="navbar"><button class="toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><a href="/" class="home-link"><img class="logo" src="/logo.webp" alt="Javaé™ˆåºå‘˜"><!----><span class="site-name hide-in-pad">Javaé™ˆåºå‘˜</span><!--[--><!----><!--]--></a><nav class="nav-links" style=""><div class="nav-item hide-in-mobile"><a href="/" class="nav-link" arialabel="é¦–é¡µ"><i class="icon iconfont icon-home"></i>é¦–é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="åç«¯"><span class="title"><i class="icon iconfont icon-rearend"></i>åç«¯</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/rearend/java/" class="nav-link" arialabel="Java"><i class="icon iconfont icon-java"></i>Java<!----></a></li><li class="dropdown-item"><a href="/rearend/spring/" class="nav-link" arialabel="Spring"><i class="icon iconfont icon-spring"></i>Spring<!----></a></li><li class="dropdown-item"><a href="/rearend/springBoot/" class="nav-link" arialabel="Spring Boot"><i class="icon iconfont icon-springboot"></i>Spring Boot<!----></a></li><li class="dropdown-item"><a href="/rearend/microServices/" class="nav-link" arialabel="å¾®æœåŠ¡"><i class="icon iconfont icon-microServices"></i>å¾®æœåŠ¡<!----></a></li><li class="dropdown-item"><a href="/rearend/dataStructure/" class="nav-link" arialabel="æ•°æ®ç»“æ„"><i class="icon iconfont icon-dataStructure"></i>æ•°æ®ç»“æ„<!----></a></li><li class="dropdown-item"><a href="/rearend/algorithm/" class="nav-link" arialabel="ç®—æ³•"><i class="icon iconfont icon-algorithm"></i>ç®—æ³•<!----></a></li><li class="dropdown-item"><a href="/rearend/designPattern/" class="nav-link" arialabel="è®¾è®¡æ¨¡å¼"><i class="icon iconfont icon-designPattern"></i>è®¾è®¡æ¨¡å¼<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="ä¸­é—´ä»¶"><span class="title"><i class="icon iconfont icon-middleware"></i>ä¸­é—´ä»¶</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/middleware/database/" class="nav-link" arialabel="æ•°æ®åº“"><i class="icon iconfont icon-database"></i>æ•°æ®åº“<!----></a></li><li class="dropdown-item"><a href="/middleware/noSQL/" class="nav-link" arialabel="NoSQL"><i class="icon iconfont icon-noSQL"></i>NoSQL<!----></a></li><li class="dropdown-item"><a href="/middleware/mq/" class="nav-link" arialabel="MQ"><i class="icon iconfont icon-MQ"></i>MQ<!----></a></li><li class="dropdown-item"><a href="/middleware/zookeeper/" class="nav-link" arialabel="ZooKeeper"><i class="icon iconfont icon-zookeeper"></i>ZooKeeper<!----></a></li><li class="dropdown-item"><a href="/middleware/elasticsearch/" class="nav-link" arialabel="ElasticSearch"><i class="icon iconfont icon-elasticsearch"></i>ElasticSearch<!----></a></li><li class="dropdown-item"><a href="/middleware/prometheus/" class="nav-link" arialabel="Prometheus"><i class="icon iconfont icon-prometheus"></i>Prometheus<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="æœåŠ¡å™¨"><span class="title"><i class="icon iconfont icon-server"></i>æœåŠ¡å™¨</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/server/linux/" class="nav-link" arialabel="Linux"><i class="icon iconfont icon-linux"></i>Linux<!----></a></li><li class="dropdown-item"><a href="/server/docker/" class="nav-link active" arialabel="Docker"><i class="icon iconfont icon-docker"></i>Docker<!----></a></li><li class="dropdown-item"><a href="/server/kubernetes/" class="nav-link" arialabel="Kubernetes"><i class="icon iconfont icon-kubernetes"></i>Kubernetes<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="AI"><span class="title"><i class="icon iconfont icon-wuguan"></i>AI</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/ai/assistant/" class="nav-link" arialabel="AI åŠ©æ‰‹"><i class="icon iconfont icon-Cursor"></i>AI åŠ©æ‰‹<!----></a></li><li class="dropdown-item"><a href="/ai/framework/" class="nav-link" arialabel="AI æ¡†æ¶"><i class="icon iconfont icon-Aisucai"></i>AI æ¡†æ¶<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="å‰ç«¯"><span class="title"><i class="icon iconfont icon-wangye"></i>å‰ç«¯</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>æ¡†æ¶</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/framework/js/" class="nav-link" arialabel="JavaScript"><i class="icon iconfont icon-java_script"></i>JavaScript<!----></a></li><li class="dropdown-subitem"><a href="/web/framework/nodejs/" class="nav-link" arialabel="Node.js"><i class="icon iconfont icon-node-js"></i>Node.js<!----></a></li><li class="dropdown-subitem"><a href="/web/framework/vue/" class="nav-link" arialabel="Vue.js"><i class="icon iconfont icon-vue"></i>Vue.js<!----></a></li><li class="dropdown-subitem"><a href="/web/framework/react/" class="nav-link" arialabel="React"><i class="icon iconfont icon-react"></i>React<!----></a></li><li class="dropdown-subitem"><a href="/web/framework/mp/" class="nav-link" arialabel="å°ç¨‹åº"><i class="icon iconfont icon-xiaochengxu"></i>å°ç¨‹åº<!----></a></li><li class="dropdown-subitem"><a href="/web/framework/blog/" class="nav-link" arialabel="Blog"><i class="icon iconfont icon-folder-vuepress"></i>Blog<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" arialabel="ç´¢å¼•"><span class="title"><i class="icon iconfont icon-index"></i>ç´¢å¼•</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a href="/article/" class="nav-link" arialabel="æ–‡ç« "><i class="icon iconfont icon-articles"></i>æ–‡ç« <!----></a></li><li class="dropdown-item"><a href="/category/java/" class="nav-link" arialabel="åˆ†ç±»"><i class="icon iconfont icon-category"></i>åˆ†ç±»<!----></a></li><li class="dropdown-item"><a href="/tag/" class="nav-link" arialabel="æ ‡ç­¾"><i class="icon iconfont icon-tag"></i>æ ‡ç­¾<!----></a></li><li class="dropdown-item"><a href="/timeline/" class="nav-link" arialabel="æ—¶é—´è½´"><i class="icon iconfont icon-timeLine"></i>æ—¶é—´è½´<!----></a></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzkzOTM3NjAzOQ==&amp;action=getalbum&amp;album_id=2783119709868212224&amp;scene=126&amp;sessionid=-659761542&amp;uin=&amp;key=&amp;devicetype=Windows+11+x64&amp;version=6309092b&amp;lang=zh_CN&amp;ascene=0&amp;session_us=gh_b840974cfe99" rel="noopener noreferrer" target="_blank" arialabel="å¼€æºé¡¹ç›®" class="nav-link"><i class="icon iconfont icon-note"></i>å¼€æºé¡¹ç›®<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><div class="nav-actions-wrapper"><!--[--><!----><!--]--><div class="nav-item"><!----></div><div class="nav-item"><a class="repo-link" href="https://github.com/chenyl8848/chenyl8848.github.io" target="_blank" rel="noopener noreferrer"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewbox="0 0 1024 1024" arialabelledby="github" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><title id="github" lang="en">github icon</title><g fill="currentColor"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></g></svg></a></div><div class="nav-item hide-in-mobile"><button class="outlook-button" tabindex="-1" ariahidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewbox="0 0 1024 1024" arialabelledby="outlook"><title id="outlook" lang="en">outlook icon</title><g fill="currentColor"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></g></svg><div class="outlook-dropdown"><!----></div></button></div><!----><button class="toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span class="button-container"><span class="button-top"></span><span class="button-middle"></span><span class="button-bottom"></span></span></button><!--[--><!----><!--]--></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow left"></span></div><aside class="sidebar"><!--[--><!----><!--]--><ul class="sidebar-links"><li><!--[--><a href="/server/docker/" class="nav-link sidebar-link sidebar-page" arialabel="Docker"><i class="icon iconfont icon-docker"></i>Docker<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-current="page" href="/server/docker/Docker.html" class="router-link-active router-link-exact-active nav-link active sidebar-link sidebar-page active" arialabel="Docker ä¸‡å­—å…¥é—¨æ•™ç¨‹"><!---->Docker ä¸‡å­—å…¥é—¨æ•™ç¨‹<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel><!----><!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_1-docker-ç®€ä»‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1. Docker ç®€ä»‹"><!---->1. Docker ç®€ä»‹<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_1-1-å®˜æ–¹å®šä¹‰" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.1 å®˜æ–¹å®šä¹‰"><!---->1.1 å®˜æ–¹å®šä¹‰<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_1-2-docker-çš„èµ·æº" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.2 Docker çš„èµ·æº"><!---->1.2 Docker çš„èµ·æº<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_1-3-docker-çš„ä¼˜åŠ¿" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.3 Docker çš„ä¼˜åŠ¿"><!---->1.3 Docker çš„ä¼˜åŠ¿<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_1-4-docker-å’Œè™šæ‹Ÿæœºçš„åŒºåˆ«" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="1.4 Docker å’Œè™šæ‹Ÿæœºçš„åŒºåˆ«"><!---->1.4 Docker å’Œè™šæ‹Ÿæœºçš„åŒºåˆ«<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_2-docker-çš„å®‰è£…" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2. Docker çš„å®‰è£…"><!---->2. Docker çš„å®‰è£…<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_2-1-å®‰è£…-docker-centos7-x" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.1 å®‰è£… Docker(centos7.x)"><!---->2.1 å®‰è£… Docker(centos7.x)<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_2-2-bash-å®‰è£…-é€šç”¨æ‰€æœ‰å¹³å°" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="2.2 bash å®‰è£…(é€šç”¨æ‰€æœ‰å¹³å°)"><!---->2.2 bash å®‰è£…(é€šç”¨æ‰€æœ‰å¹³å°)<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_3-docker-çš„æ ¸å¿ƒæ¶æ„" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="3. Docker çš„æ ¸å¿ƒæ¶æ„"><!---->3. Docker çš„æ ¸å¿ƒæ¶æ„<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_4-docker-é…ç½®é˜¿é‡Œé•œåƒåŠ é€ŸæœåŠ¡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="4. Docker é…ç½®é˜¿é‡Œé•œåƒåŠ é€ŸæœåŠ¡"><!---->4. Docker é…ç½®é˜¿é‡Œé•œåƒåŠ é€ŸæœåŠ¡<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_4-1-docker-è¿è¡Œæµç¨‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="4.1 Docker è¿è¡Œæµç¨‹"><!---->4.1 Docker è¿è¡Œæµç¨‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_4-2-docker-é…ç½®é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="4.2 Docker é…ç½®é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿ"><!---->4.2 Docker é…ç½®é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_5-docker-çš„å…¥é—¨åº”ç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="5. Docker çš„å…¥é—¨åº”ç”¨"><!---->5. Docker çš„å…¥é—¨åº”ç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_6-docker-å¸¸ç”¨å‘½ä»¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="6. Docker å¸¸ç”¨å‘½ä»¤"><!---->6. Docker å¸¸ç”¨å‘½ä»¤<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_6-1-è¾…åŠ©å‘½ä»¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="6.1 è¾…åŠ©å‘½ä»¤"><!---->6.1 è¾…åŠ©å‘½ä»¤<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_6-2-images-é•œåƒå‘½ä»¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="6.2 Images é•œåƒå‘½ä»¤"><!---->6.2 Images é•œåƒå‘½ä»¤<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_6-3-contrainer-å®¹å™¨å‘½ä»¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="6.3 Contrainer å®¹å™¨å‘½ä»¤"><!---->6.3 Contrainer å®¹å™¨å‘½ä»¤<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_7-docker-çš„é•œåƒåŸç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7. Docker çš„é•œåƒåŸç†"><!---->7. Docker çš„é•œåƒåŸç†<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_7-1-é•œåƒæ˜¯ä»€ä¹ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.1 é•œåƒæ˜¯ä»€ä¹ˆï¼Ÿ"><!---->7.1 é•œåƒæ˜¯ä»€ä¹ˆï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_7-2-ä¸ºä»€ä¹ˆä¸€ä¸ªé•œåƒä¼šé‚£ä¹ˆå¤§" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.2 ä¸ºä»€ä¹ˆä¸€ä¸ªé•œåƒä¼šé‚£ä¹ˆå¤§ï¼Ÿ"><!---->7.2 ä¸ºä»€ä¹ˆä¸€ä¸ªé•œåƒä¼šé‚£ä¹ˆå¤§ï¼Ÿ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_7-3-docker-é•œåƒåŸç†" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.3 Docker é•œåƒåŸç†"><!---->7.3 Docker é•œåƒåŸç†<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_7-4-ä¸ºä»€ä¹ˆ-docker-é•œåƒè¦é‡‡ç”¨è¿™ç§åˆ†å±‚ç»“æ„å‘¢" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="7.4 ä¸ºä»€ä¹ˆ Docker é•œåƒè¦é‡‡ç”¨è¿™ç§åˆ†å±‚ç»“æ„å‘¢?"><!---->7.4 ä¸ºä»€ä¹ˆ Docker é•œåƒè¦é‡‡ç”¨è¿™ç§åˆ†å±‚ç»“æ„å‘¢?<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_8-docker-å®‰è£…å¸¸ç”¨æœåŠ¡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.Docker å®‰è£…å¸¸ç”¨æœåŠ¡"><!---->8.Docker å®‰è£…å¸¸ç”¨æœåŠ¡<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_8-1-å®‰è£…-mysql" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.1 å®‰è£… MySQL"><!---->8.1 å®‰è£… MySQL<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_8-2-å®‰è£…-redis" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.2 å®‰è£… Redis"><!---->8.2 å®‰è£… Redis<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_8-3-å®‰è£…-nginx" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.3 å®‰è£… Nginx"><!---->8.3 å®‰è£… Nginx<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_8-4-å®‰è£…-tomcat" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.4 å®‰è£… Tomcat"><!---->8.4 å®‰è£… Tomcat<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_8-5-å®‰è£…-mongodb-æ•°æ®åº“" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.5 å®‰è£… MongoDB æ•°æ®åº“"><!---->8.5 å®‰è£… MongoDB æ•°æ®åº“<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_8-6-å®‰è£…-elasticsearch" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="8.6 å®‰è£… ElasticSearch"><!---->8.6 å®‰è£… ElasticSearch<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_10-docker-ä¸­å‡ºç°å¦‚ä¸‹é”™è¯¯è§£å†³æ–¹æ¡ˆ" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="10. Docker ä¸­å‡ºç°å¦‚ä¸‹é”™è¯¯è§£å†³æ–¹æ¡ˆ"><!---->10. Docker ä¸­å‡ºç°å¦‚ä¸‹é”™è¯¯è§£å†³æ–¹æ¡ˆ<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_11-dockerfile" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="11. Dockerfile"><!---->11. Dockerfile<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_11-1-ä»€ä¹ˆæ˜¯-dockerfile" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="11.1 ä»€ä¹ˆæ˜¯ Dockerfile"><!---->11.1 ä»€ä¹ˆæ˜¯ Dockerfile<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_11-2-dockerfile-è§£æè¿‡ç¨‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="11.2 Dockerfile è§£æè¿‡ç¨‹"><!---->11.2 Dockerfile è§£æè¿‡ç¨‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_11-3-dockerfile-çš„ä¿ç•™å‘½ä»¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="11.3 Dockerfile çš„ä¿ç•™å‘½ä»¤"><!---->11.3 Dockerfile çš„ä¿ç•™å‘½ä»¤<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_11-4-dockerfile-æ„å»º-springboot-é¡¹ç›®éƒ¨ç½²" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="11.4 Dockerfile æ„å»º SpringBoot é¡¹ç›®éƒ¨ç½²"><!---->11.4 Dockerfile æ„å»º SpringBoot é¡¹ç›®éƒ¨ç½²<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_12-é«˜çº§ç½‘ç»œé…ç½®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="12. é«˜çº§ç½‘ç»œé…ç½®"><!---->12. é«˜çº§ç½‘ç»œé…ç½®<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_12-1-è¯´æ˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="12.1 è¯´æ˜"><!---->12.1 è¯´æ˜<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_12-2-docker-ç½‘ç»œæ“ä½œå‘½ä»¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="12.2 Docker ç½‘ç»œæ“ä½œå‘½ä»¤"><!---->12.2 Docker ç½‘ç»œæ“ä½œå‘½ä»¤<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_12-3-å®¹å™¨ä¹‹é—´ä½¿ç”¨ç½‘ç»œé€šä¿¡" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="12.3 å®¹å™¨ä¹‹é—´ä½¿ç”¨ç½‘ç»œé€šä¿¡"><!---->12.3 å®¹å™¨ä¹‹é—´ä½¿ç”¨ç½‘ç»œé€šä¿¡<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_13-é«˜çº§æ•°æ®å·é…ç½®" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="13. é«˜çº§æ•°æ®å·é…ç½®"><!---->13. é«˜çº§æ•°æ®å·é…ç½®<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_13-1-è¯´æ˜" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="13.1 è¯´æ˜"><!---->13.1 è¯´æ˜<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_13-2-æ•°æ®å·æ“ä½œå‘½ä»¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="13.2 æ•°æ®å·æ“ä½œå‘½ä»¤"><!---->13.2 æ•°æ®å·æ“ä½œå‘½ä»¤<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_14-docker-compose" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="14. Docker Compose"><!---->14. Docker Compose<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_14-1-ç®€ä»‹" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="14.1 ç®€ä»‹"><!---->14.1 ç®€ä»‹<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_14-2-å®‰è£…ä¸å¸è½½" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="14.2 å®‰è£…ä¸å¸è½½"><!---->14.2 å®‰è£…ä¸å¸è½½<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_14-3-docker-compose-ä½¿ç”¨" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="14.3 Docker Compose ä½¿ç”¨"><!---->14.3 Docker Compose ä½¿ç”¨<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_14-4-docker-compose-æ¨¡æ¿æ–‡ä»¶" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="14.4 docker-compose æ¨¡æ¿æ–‡ä»¶"><!---->14.4 docker-compose æ¨¡æ¿æ–‡ä»¶<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_14-5-docker-compose-å¸¸ç”¨å‘½ä»¤" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="14.5 docker-compose å¸¸ç”¨å‘½ä»¤"><!---->14.5 docker-compose å¸¸ç”¨å‘½ä»¤<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_15-docker-å¯è§†åŒ–å·¥å…·" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="15. Docker å¯è§†åŒ–å·¥å…·"><!---->15. Docker å¯è§†åŒ–å·¥å…·<!----></a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_15-1-å®‰è£…-portainer" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="15.1 å®‰è£… Portainer"><!---->15.1 å®‰è£… Portainer<!----></a><ul class="sidebar-sub-headers"></ul></li><li class="sidebar-sub-header"><a aria-current="page" href="/server/docker/Docker.html#_15-2-ç™»å½•å’Œä½¿ç”¨-portainer" class="router-link-active router-link-exact-active nav-link sidebar-link heading" arialabel="15.2 ç™»å½•å’Œä½¿ç”¨ Portainer"><!---->15.2 ç™»å½•å’Œä½¿ç”¨ Portainer<!----></a><ul class="sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a href="/server/docker/Docker_deploy.html" class="nav-link sidebar-link sidebar-page" arialabel="Docker éƒ¨ç½²ä¸­é—´ä»¶"><!---->Docker éƒ¨ç½²ä¸­é—´ä»¶<!----></a><ul class="sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main class="page" id="main-content"><!----><nav class="breadcrumb disable"></nav><div class="page-title"><h1><!---->Docker ä¸‡å­—å…¥é—¨æ•™ç¨‹</h1><div class="article-info"><span class="author-info" arialabel="ä½œè€…ğŸ–Š" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewbox="0 0 1024 1024" arialabelledby="author"><title id="author" lang="en">author icon</title><g fill="currentColor"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></g></svg><span><a class="author-item" href="https://chenyl8848.github.io" target="_blank" rel="noopener noreferrer">Javaé™ˆåºå‘˜</a></span><span property="author" content="Javaé™ˆåºå‘˜"></span></span><!----><span class="date-info" arialabel="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewbox="0 0 1024 1024" arialabelledby="calendar"><title id="calendar" lang="en">calendar icon</title><g fill="currentColor"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></g></svg><span>2022å¹´4æœˆ10æ—¥</span><meta property="datePublished" content="2022-04-10T00:00:00.000Z"></span><span class="category-info" arialabel="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewbox="0 0 1024 1024" arialabelledby="category"><title id="category" lang="en">category icon</title><g fill="currentColor"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></g></svg><ul class="categories-wrapper"><li class="category category3 clickable" role="navigation">å®¹å™¨</li><meta property="articleSection" content="å®¹å™¨"></ul></span><span arialabel="æ ‡ç­¾ğŸ·" data-balloon-pos="down" isoriginal="false" pageview="false"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewbox="0 0 1024 1024" arialabelledby="tag"><title id="tag" lang="en">tag icon</title><g fill="currentColor"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></g></svg><ul class="tags-wrapper"><li class="tag tag4 clickable" role="navigation">Docker</li></ul><meta property="keywords" content="Docker"></span><span class="reading-time-info" arialabel="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down" isoriginal="false" pageview="false" color="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewbox="0 0 1024 1024" arialabelledby="timer"><title id="timer" lang="en">timer icon</title><g fill="currentColor"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></g></svg><span>å¤§çº¦ 36 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT36M"></span></div><hr></div><div class="toc-place-holder"><aside id="toc-list"><div class="toc-header">æ­¤é¡µå†…å®¹</div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#" class="router-link-active router-link-exact-active toc-link level2"></a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_1-docker-ç®€ä»‹" class="router-link-active router-link-exact-active toc-link level2">1. Docker ç®€ä»‹</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_1-1-å®˜æ–¹å®šä¹‰" class="router-link-active router-link-exact-active toc-link level3">1.1 å®˜æ–¹å®šä¹‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_1-2-docker-çš„èµ·æº" class="router-link-active router-link-exact-active toc-link level3">1.2 Docker çš„èµ·æº</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_1-3-docker-çš„ä¼˜åŠ¿" class="router-link-active router-link-exact-active toc-link level3">1.3 Docker çš„ä¼˜åŠ¿</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_1-4-docker-å’Œè™šæ‹Ÿæœºçš„åŒºåˆ«" class="router-link-active router-link-exact-active toc-link level3">1.4 Docker å’Œè™šæ‹Ÿæœºçš„åŒºåˆ«</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_2-docker-çš„å®‰è£…" class="router-link-active router-link-exact-active toc-link level2">2. Docker çš„å®‰è£…</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_2-1-å®‰è£…-docker-centos7-x" class="router-link-active router-link-exact-active toc-link level3">2.1 å®‰è£… Docker(centos7.x)</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_2-2-bash-å®‰è£…-é€šç”¨æ‰€æœ‰å¹³å°" class="router-link-active router-link-exact-active toc-link level3">2.2 bash å®‰è£…(é€šç”¨æ‰€æœ‰å¹³å°)</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_3-docker-çš„æ ¸å¿ƒæ¶æ„" class="router-link-active router-link-exact-active toc-link level2">3. Docker çš„æ ¸å¿ƒæ¶æ„</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_4-docker-é…ç½®é˜¿é‡Œé•œåƒåŠ é€ŸæœåŠ¡" class="router-link-active router-link-exact-active toc-link level2">4. Docker é…ç½®é˜¿é‡Œé•œåƒåŠ é€ŸæœåŠ¡</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_4-1-docker-è¿è¡Œæµç¨‹" class="router-link-active router-link-exact-active toc-link level3">4.1 Docker è¿è¡Œæµç¨‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_4-2-docker-é…ç½®é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿ" class="router-link-active router-link-exact-active toc-link level3">4.2 Docker é…ç½®é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿ</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_5-docker-çš„å…¥é—¨åº”ç”¨" class="router-link-active router-link-exact-active toc-link level2">5. Docker çš„å…¥é—¨åº”ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_6-docker-å¸¸ç”¨å‘½ä»¤" class="router-link-active router-link-exact-active toc-link level2">6. Docker å¸¸ç”¨å‘½ä»¤</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_6-1-è¾…åŠ©å‘½ä»¤" class="router-link-active router-link-exact-active toc-link level3">6.1 è¾…åŠ©å‘½ä»¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_6-2-images-é•œåƒå‘½ä»¤" class="router-link-active router-link-exact-active toc-link level3">6.2 Images é•œåƒå‘½ä»¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_6-3-contrainer-å®¹å™¨å‘½ä»¤" class="router-link-active router-link-exact-active toc-link level3">6.3 Contrainer å®¹å™¨å‘½ä»¤</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_7-docker-çš„é•œåƒåŸç†" class="router-link-active router-link-exact-active toc-link level2">7. Docker çš„é•œåƒåŸç†</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_7-1-é•œåƒæ˜¯ä»€ä¹ˆ" class="router-link-active router-link-exact-active toc-link level3">7.1 é•œåƒæ˜¯ä»€ä¹ˆï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_7-2-ä¸ºä»€ä¹ˆä¸€ä¸ªé•œåƒä¼šé‚£ä¹ˆå¤§" class="router-link-active router-link-exact-active toc-link level3">7.2 ä¸ºä»€ä¹ˆä¸€ä¸ªé•œåƒä¼šé‚£ä¹ˆå¤§ï¼Ÿ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_7-3-docker-é•œåƒåŸç†" class="router-link-active router-link-exact-active toc-link level3">7.3 Docker é•œåƒåŸç†</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_7-4-ä¸ºä»€ä¹ˆ-docker-é•œåƒè¦é‡‡ç”¨è¿™ç§åˆ†å±‚ç»“æ„å‘¢" class="router-link-active router-link-exact-active toc-link level3">7.4 ä¸ºä»€ä¹ˆ Docker é•œåƒè¦é‡‡ç”¨è¿™ç§åˆ†å±‚ç»“æ„å‘¢?</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_8-docker-å®‰è£…å¸¸ç”¨æœåŠ¡" class="router-link-active router-link-exact-active toc-link level2">8.Docker å®‰è£…å¸¸ç”¨æœåŠ¡</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_8-1-å®‰è£…-mysql" class="router-link-active router-link-exact-active toc-link level3">8.1 å®‰è£… MySQL</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_8-2-å®‰è£…-redis" class="router-link-active router-link-exact-active toc-link level3">8.2 å®‰è£… Redis</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_8-3-å®‰è£…-nginx" class="router-link-active router-link-exact-active toc-link level3">8.3 å®‰è£… Nginx</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_8-4-å®‰è£…-tomcat" class="router-link-active router-link-exact-active toc-link level3">8.4 å®‰è£… Tomcat</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_8-5-å®‰è£…-mongodb-æ•°æ®åº“" class="router-link-active router-link-exact-active toc-link level3">8.5 å®‰è£… MongoDB æ•°æ®åº“</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_8-6-å®‰è£…-elasticsearch" class="router-link-active router-link-exact-active toc-link level3">8.6 å®‰è£… ElasticSearch</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_10-docker-ä¸­å‡ºç°å¦‚ä¸‹é”™è¯¯è§£å†³æ–¹æ¡ˆ" class="router-link-active router-link-exact-active toc-link level2">10. Docker ä¸­å‡ºç°å¦‚ä¸‹é”™è¯¯è§£å†³æ–¹æ¡ˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_11-dockerfile" class="router-link-active router-link-exact-active toc-link level2">11. Dockerfile</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_11-1-ä»€ä¹ˆæ˜¯-dockerfile" class="router-link-active router-link-exact-active toc-link level3">11.1 ä»€ä¹ˆæ˜¯ Dockerfile</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_11-2-dockerfile-è§£æè¿‡ç¨‹" class="router-link-active router-link-exact-active toc-link level3">11.2 Dockerfile è§£æè¿‡ç¨‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_11-3-dockerfile-çš„ä¿ç•™å‘½ä»¤" class="router-link-active router-link-exact-active toc-link level3">11.3 Dockerfile çš„ä¿ç•™å‘½ä»¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_11-4-dockerfile-æ„å»º-springboot-é¡¹ç›®éƒ¨ç½²" class="router-link-active router-link-exact-active toc-link level3">11.4 Dockerfile æ„å»º SpringBoot é¡¹ç›®éƒ¨ç½²</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_12-é«˜çº§ç½‘ç»œé…ç½®" class="router-link-active router-link-exact-active toc-link level2">12. é«˜çº§ç½‘ç»œé…ç½®</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_12-1-è¯´æ˜" class="router-link-active router-link-exact-active toc-link level3">12.1 è¯´æ˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_12-2-docker-ç½‘ç»œæ“ä½œå‘½ä»¤" class="router-link-active router-link-exact-active toc-link level3">12.2 Docker ç½‘ç»œæ“ä½œå‘½ä»¤</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_12-3-å®¹å™¨ä¹‹é—´ä½¿ç”¨ç½‘ç»œé€šä¿¡" class="router-link-active router-link-exact-active toc-link level3">12.3 å®¹å™¨ä¹‹é—´ä½¿ç”¨ç½‘ç»œé€šä¿¡</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_13-é«˜çº§æ•°æ®å·é…ç½®" class="router-link-active router-link-exact-active toc-link level2">13. é«˜çº§æ•°æ®å·é…ç½®</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_13-1-è¯´æ˜" class="router-link-active router-link-exact-active toc-link level3">13.1 è¯´æ˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_13-2-æ•°æ®å·æ“ä½œå‘½ä»¤" class="router-link-active router-link-exact-active toc-link level3">13.2 æ•°æ®å·æ“ä½œå‘½ä»¤</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_14-docker-compose" class="router-link-active router-link-exact-active toc-link level2">14. Docker Compose</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_14-1-ç®€ä»‹" class="router-link-active router-link-exact-active toc-link level3">14.1 ç®€ä»‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_14-2-å®‰è£…ä¸å¸è½½" class="router-link-active router-link-exact-active toc-link level3">14.2 å®‰è£…ä¸å¸è½½</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_14-3-docker-compose-ä½¿ç”¨" class="router-link-active router-link-exact-active toc-link level3">14.3 Docker Compose ä½¿ç”¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_14-4-docker-compose-æ¨¡æ¿æ–‡ä»¶" class="router-link-active router-link-exact-active toc-link level3">14.4 docker-compose æ¨¡æ¿æ–‡ä»¶</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_14-5-docker-compose-å¸¸ç”¨å‘½ä»¤" class="router-link-active router-link-exact-active toc-link level3">14.5 docker-compose å¸¸ç”¨å‘½ä»¤</a></li><!----><!--]--></ul><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_15-docker-å¯è§†åŒ–å·¥å…·" class="router-link-active router-link-exact-active toc-link level2">15. Docker å¯è§†åŒ–å·¥å…·</a></li><ul class="toc-list"><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_15-1-å®‰è£…-portainer" class="router-link-active router-link-exact-active toc-link level3">15.1 å®‰è£… Portainer</a></li><!----><!--]--><!--[--><li class="toc-item"><a aria-current="page" href="/server/docker/Docker.html#_15-2-ç™»å½•å’Œä½¿ç”¨-portainer" class="router-link-active router-link-exact-active toc-link level3">15.2 ç™»å½•å’Œä½¿ç”¨ Portainer</a></li><!----><!--]--></ul><!--]--></ul></div></aside></div><!----><div class="theme-hope-content"><!--[--><h1 id="docker-ä¸‡å­—å…¥é—¨æ•™ç¨‹" tabindex="-1"><a class="header-anchor" href="#docker-ä¸‡å­—å…¥é—¨æ•™ç¨‹" aria-hidden="true">#</a> Docker ä¸‡å­—å…¥é—¨æ•™ç¨‹</h1><blockquote><p><a href="https://www.bilibili.com/video/BV1ZT4y1K75K?spm_id_from=333.999.0.0" target="_blank" rel="noopener noreferrer">å­¦ä¹ è§†é¢‘ã€ç¼–ç¨‹ä¸è‰¯äººã€‘<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://www.docker.com/get-started" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£åœ°å€<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p><a href="https://docker_practice.gitee.io/zh-cn/" target="_blank" rel="noopener noreferrer">ä¸­æ–‡å‚è€ƒæ‰‹å†Œ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><h2 id="" tabindex="-1"><a class="header-anchor" href="#" aria-hidden="true">#</a> <img src="https://chen-coding.oss-cn-shenzhen.aliyuncs.com/server/container /01/Docker_Mindmap.png" alt="" loading="lazy"></h2><h2 id="_1-docker-ç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#_1-docker-ç®€ä»‹" aria-hidden="true">#</a> 1. Docker ç®€ä»‹</h2><h3 id="_1-1-å®˜æ–¹å®šä¹‰" tabindex="-1"><a class="header-anchor" href="#_1-1-å®˜æ–¹å®šä¹‰" aria-hidden="true">#</a> 1.1 å®˜æ–¹å®šä¹‰</h3><p><strong>å®˜æ–¹ä»‹ç»</strong>ï¼š</p><ul><li>We have a complete container solution for you - no matter who you are and where you are on your containerization journey.</li><li>ç¿»è¯‘ï¼šæˆ‘ä»¬ä¸ºä½ æä¾›äº†ä¸€ä¸ªå®Œæ•´çš„å®¹å™¨è§£å†³æ–¹æ¡ˆï¼Œä¸ç®¡ä½ æ˜¯è°ã€‚ä¸ç®¡ä½ åœ¨å“ªï¼Œä½ éƒ½å¯ä»¥å¼€å§‹å®¹å™¨çš„çš„æ—…ç¨‹ã€‚</li></ul><p><strong>å®˜æ–¹å®šä¹‰</strong>ï¼šDocker æ˜¯ä¸€ä¸ªå®¹å™¨æŠ€æœ¯ã€‚</p><ul><li>å®˜ç½‘é¦–é¡µ</li></ul><p><img src="https://chen-coding.oss-cn-shenzhen.aliyuncs.com/server/container /01/image-20201220213306128.png" alt="" loading="lazy"></p><p><img src="https://chen-coding.oss-cn-shenzhen.aliyuncs.com/server/container /01/image-20201220214210994.png" alt="" loading="lazy"></p><h3 id="_1-2-docker-çš„èµ·æº" tabindex="-1"><a class="header-anchor" href="#_1-2-docker-çš„èµ·æº" aria-hidden="true">#</a> 1.2 Docker çš„èµ·æº</h3><p>Docker æœ€åˆæ˜¯ dotCloud å…¬å¸åˆ›å§‹äºº Solomon Hykes åœ¨æ³•å›½æœŸé—´å‘èµ·çš„ä¸€ä¸ªå…¬å¸å†…éƒ¨é¡¹ç›®ï¼Œå®ƒæ˜¯åŸºäº dotCloud å…¬å¸å¤šå¹´äº‘æœåŠ¡æŠ€æœ¯çš„ä¸€æ¬¡é©æ–°ï¼Œå¹¶äº 2013 å¹´ 3 æœˆä»¥ Apache2.0 æˆæƒåè®®å¼€æºï¼Œä¸»è¦é¡¹ç›®ä»£ç åœ¨ GitHub ä¸Šè¿›è¡Œç»´æŠ¤ã€‚Docker é¡¹ç›®åæ¥è¿˜åŠ å…¥äº† Linux åŸºé‡‘ä¼šï¼Œå¹¶æˆç«‹æ¨åŠ¨å¼€æ”¾å®¹å™¨è”ç›Ÿ(OCI).</p><p>Docker è‡ªå¼€æºåå—åˆ°å¹¿æ³›çš„å…³æ³¨å’Œè®¨è®ºï¼Œç”±äº Docker é¡¹ç›®çš„ç«çˆ†ï¼Œåœ¨ 2013 å¹´åº•ï¼ŒdotCloud å…¬å¸å†³å®šæ”¹åä¸º Docker. Docker æœ€åˆæ˜¯åœ¨ Ubuntu 12.04 ä¸Šå¼€å‘å®ç°çš„ï¼›Red Hat åˆ™ä» RHEL 6.5 å¼€å§‹å¯¹ Docker è¿›è¡Œæ”¯æŒï¼›Google ä¹Ÿåœ¨å…¶ PaaS äº§å“ä¸­å¹¿æ³›åº”ç”¨ Docker.</p><p>Docker ä½¿ç”¨ Google å…¬å¸æ¨å‡ºçš„ Go è¯­è¨€è¿›è¡Œå¼€å‘å®ç°ï¼ŒåŸºäº Linux å†…æ ¸çš„ cgroupã€namespace, ä»¥åŠ OverlayFS ç±»çš„ Union FS ç­‰æŠ€æœ¯ï¼Œå¯¹è¿›ç¨‹è¿›è¡Œå°è£…éš”ç¦»ï¼Œå±äºæ“ä½œç³»ç»Ÿå±‚é¢çš„è™šæ‹ŸåŒ–æŠ€æœ¯ã€‚ç”±äºéš”ç¦»çš„è¿›ç¨‹ç‹¬ç«‹äºå®¿ä¸»å’Œå…¶å®ƒçš„éš”ç¦»çš„è¿›ç¨‹ï¼Œå› æ­¤ä¹Ÿç§°å…¶ä¸ºå®¹å™¨ã€‚</p><h3 id="_1-3-docker-çš„ä¼˜åŠ¿" tabindex="-1"><a class="header-anchor" href="#_1-3-docker-çš„ä¼˜åŠ¿" aria-hidden="true">#</a> 1.3 Docker çš„ä¼˜åŠ¿</h3><ul><li><p>åœ¨å¼€å‘çš„æ—¶å€™ï¼Œåœ¨æœ¬æœºæµ‹è¯•ç¯å¢ƒå¯ä»¥è·‘ï¼Œç”Ÿäº§ç¯å¢ƒè·‘ä¸èµ·æ¥ã€‚</p><p>è¿™é‡Œæˆ‘ä»¬æ‹¿ Java Web åº”ç”¨ç¨‹åºä¸¾ä¾‹ï¼Œæˆ‘ä»¬ä¸€ä¸ª Java Web åº”ç”¨ç¨‹åºæ¶‰åŠå¾ˆå¤šä¸œè¥¿ï¼Œæ¯”å¦‚ JDKã€Tomcatã€MySQL ç­‰è½¯ä»¶ç¯å¢ƒã€‚å½“è¿™äº›å…¶ä¸­æŸä¸€é¡¹ç‰ˆæœ¬ä¸ä¸€è‡´çš„æ—¶å€™ï¼Œå¯èƒ½å°±ä¼šå¯¼è‡´åº”ç”¨ç¨‹åºè·‘ä¸èµ·æ¥è¿™ç§æƒ…å†µã€‚Docker åˆ™å°†ç¨‹åºä»¥åŠä½¿ç”¨è½¯ä»¶ç¯å¢ƒç›´æ¥æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œæ— è®ºåœ¨é‚£ä¸ªæœºå™¨ä¸Šä¿è¯äº†ç¯å¢ƒä¸€è‡´ã€‚</p><p><strong>ä¼˜åŠ¿1ï¼šä¸€è‡´çš„è¿è¡Œç¯å¢ƒï¼Œæ›´è½»æ¾çš„è¿ç§»ã€‚</strong></p></li><li><p>æœåŠ¡å™¨è‡ªå·±çš„ç¨‹åºæŒ‚äº†ï¼Œç»“æœå‘ç°æ˜¯åˆ«äººç¨‹åºå‡ºäº†é—®é¢˜æŠŠå†…å­˜åƒå®Œäº†ï¼Œè‡ªå·±ç¨‹åºå› ä¸ºå†…å­˜ä¸å¤Ÿå°±æŒ‚äº†ã€‚</p><p>è¿™ç§ä¹Ÿæ˜¯ä¸€ç§æ¯”è¾ƒå¸¸è§çš„æƒ…å†µï¼Œå¦‚æœä½ çš„ç¨‹åºé‡è¦æ€§ä¸æ˜¯ç‰¹åˆ«é«˜çš„è¯ï¼Œå…¬å¸åŸºæœ¬ä¸Šä¸å¯èƒ½è®©ä½ çš„ç¨‹åºç‹¬äº«ä¸€å°æœåŠ¡å™¨çš„ï¼Œè¿™æ—¶å€™ä½ çš„æœåŠ¡å™¨å°±ä¼šè·Ÿå…¬å¸å…¶ä»–äººçš„ç¨‹åºå…±äº«ä¸€å°æœåŠ¡å™¨ï¼Œæ‰€ä»¥ä¸å¯é¿å…åœ°å°±ä¼šå—åˆ°å…¶ä»–ç¨‹åºçš„å¹²æ‰°ï¼Œå¯¼è‡´è‡ªå·±çš„ç¨‹åºå‡ºç°é—®é¢˜ã€‚Docker å°±å¾ˆå¥½è§£å†³äº†ç¯å¢ƒéš”ç¦»çš„é—®é¢˜ï¼Œåˆ«äººç¨‹åºä¸ä¼šå½±å“åˆ°è‡ªå·±çš„ç¨‹åºã€‚</p><p><strong>ä¼˜åŠ¿2ï¼šå¯¹è¿›ç¨‹è¿›è¡Œå°è£…éš”ç¦»ï¼Œå®¹å™¨ä¸å®¹å™¨ä¹‹é—´äº’ä¸å½±å“ï¼Œæ›´é«˜æ•ˆçš„åˆ©ç”¨ç³»ç»Ÿèµ„æºã€‚</strong></p></li><li><p>å…¬å¸è¦å¼„ä¸€ä¸ªæ´»åŠ¨ï¼Œå¯èƒ½ä¼šæœ‰å¤§é‡çš„æµé‡è¿›æ¥ï¼Œå…¬å¸éœ€è¦å†å¤šéƒ¨ç½²å‡ åå°æœåŠ¡å™¨ã€‚</p><p>åœ¨æ²¡æœ‰ Docker çš„æƒ…å†µä¸‹ï¼Œè¦åœ¨å‡ å¤©å†…éƒ¨ç½²å‡ åå°æœåŠ¡å™¨ï¼Œè¿™å¯¹è¿ç»´æ¥è¯´æ˜¯ä¸€ä»¶éå¸¸æŠ˜ç£¨äººçš„äº‹ï¼Œè€Œä¸”æ¯å°æœåŠ¡å™¨çš„ç¯å¢ƒè¿˜ä¸ä¸€å®šä¸€æ ·ï¼Œå°±ä¼šå‡ºç°å„ç§é—®é¢˜ï¼Œæœ€åéƒ¨ç½²åœ°å¤´çš®å‘éº»ã€‚ç”¨ Docker çš„è¯ï¼Œæˆ‘åªéœ€è¦å°†ç¨‹åºæ‰“åŒ…åˆ°é•œåƒï¼Œä½ è¦å¤šå°‘å°æœåŠ¡ï¼Œæˆ‘å°±è·‘å¤šå°‘å®¹å™¨ï¼Œæå¤§åœ°æé«˜äº†éƒ¨ç½²æ•ˆç‡ã€‚</p><p><strong>ä¼˜åŠ¿3ï¼šé€šè¿‡é•œåƒå¤åˆ¶ N å¤šä¸ªç¯å¢ƒä¸€è‡´å®¹å™¨ã€‚</strong></p></li></ul><h3 id="_1-4-docker-å’Œè™šæ‹Ÿæœºçš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#_1-4-docker-å’Œè™šæ‹Ÿæœºçš„åŒºåˆ«" aria-hidden="true">#</a> 1.4 Docker å’Œè™šæ‹Ÿæœºçš„åŒºåˆ«</h3><p>å…³äº Docker ä¸è™šæ‹Ÿæœºçš„åŒºåˆ«ï¼Œåœ¨ç½‘ä¸Šæ‰¾åˆ°çš„ä¸€å¼ å›¾ï¼Œéå¸¸ç›´è§‚å½¢è±¡åœ°å±•ç¤ºå‡ºæ¥ï¼Œè¯ä¸å¤šè¯´ï¼Œç›´æ¥ä¸Šå›¾ã€‚</p><p><img src="https://chen-coding.oss-cn-shenzhen.aliyuncs.com/server/container /01/image-20201220222456675.png" alt="" loading="lazy"></p><p><strong>æ¯”è¾ƒä¸Šé¢ä¸¤å¼ å›¾ï¼Œæˆ‘ä»¬å‘ç°è™šæ‹Ÿæœºæ˜¯æºå¸¦æ“ä½œç³»ç»Ÿï¼Œæœ¬èº«å¾ˆå°çš„åº”ç”¨ç¨‹åºå´å› ä¸ºæºå¸¦äº†æ“ä½œç³»ç»Ÿè€Œå˜å¾—éå¸¸å¤§ï¼Œå¾ˆç¬¨é‡</strong>ã€‚Dockeræ˜¯ä¸æºå¸¦æ“ä½œç³»ç»Ÿçš„ï¼Œæ‰€ä»¥ Docker çš„åº”ç”¨å°±éå¸¸çš„è½»å·§ã€‚å¦å¤–åœ¨è°ƒç”¨å®¿ä¸»æœºçš„ CPUã€ç£ç›˜ç­‰ç­‰è¿™äº›èµ„æºçš„æ—¶å€™ï¼Œæ‹¿å†…å­˜ä¸¾ä¾‹ï¼Œè™šæ‹Ÿæœºæ˜¯åˆ©ç”¨ Hypervisor å»è™šæ‹ŸåŒ–å†…å­˜ï¼Œæ•´ä¸ªè°ƒç”¨è¿‡ç¨‹æ˜¯<strong>è™šæ‹Ÿå†…å­˜-&gt;è™šæ‹Ÿç‰©ç†å†…å­˜-&gt;çœŸæ­£ç‰©ç†å†…å­˜</strong>ï¼Œä½†æ˜¯ Docker æ˜¯åˆ©ç”¨ Docker Engine å»è°ƒç”¨å®¿ä¸»çš„çš„èµ„æºï¼Œè¿™æ—¶å€™è¿‡ç¨‹æ˜¯<strong>è™šæ‹Ÿå†…å­˜-&gt;çœŸæ­£ç‰©ç†å†…å­˜</strong>ã€‚</p><table><thead><tr><th></th><th>ä¼ ç»Ÿè™šæ‹Ÿæœº</th><th>Dockerå®¹å™¨</th></tr></thead><tbody><tr><td>ç£ç›˜å ç”¨</td><td>å‡ ä¸ªGBåˆ°å‡ åä¸ªGBå·¦å³</td><td>å‡ åMBåˆ°å‡ ç™¾MBå·¦å³</td></tr><tr><td>CPUå†…å­˜å ç”¨</td><td>è™šæ‹Ÿæ“ä½œç³»ç»Ÿéå¸¸å ç”¨CPUå’Œå†…å­˜</td><td>Dockerå¼•æ“å ç”¨æä½</td></tr><tr><td>å¯åŠ¨é€Ÿåº¦</td><td>ï¼ˆä»å¼€æœºåˆ°è¿è¡Œé¡¹ç›®ï¼‰å‡ åˆ†é’Ÿ</td><td>ï¼ˆä»å¼€å¯å®¹å™¨åˆ°è¿è¡Œé¡¹ç›®ï¼‰å‡ ç§’</td></tr><tr><td>å®‰è£…ç®¡ç†</td><td>éœ€è¦ä¸“é—¨çš„è¿ç»´æŠ€æœ¯</td><td>å®‰è£…ã€ç®¡ç†æ–¹ä¾¿</td></tr><tr><td>åº”ç”¨éƒ¨ç½²</td><td>æ¯æ¬¡éƒ¨ç½²éƒ½è´¹æ—¶è´¹åŠ›</td><td>ä»ç¬¬äºŒæ¬¡éƒ¨ç½²å¼€å§‹è½»æ¾ç®€æ·</td></tr><tr><td>è€¦åˆæ€§</td><td>å¤šä¸ªåº”ç”¨æœåŠ¡å®‰è£…åˆ°ä¸€èµ·ï¼Œå®¹æ˜“äº’ç›¸å½±å“</td><td>æ¯ä¸ªåº”ç”¨æœåŠ¡ä¸€ä¸ªå®¹å™¨ï¼Œè¾¾æˆéš”ç¦»</td></tr><tr><td>ç³»ç»Ÿä¾èµ–</td><td>æ— </td><td>éœ€æ±‚ç›¸åŒæˆ–ç›¸ä¼¼çš„å†…æ ¸ï¼Œç›®å‰æ¨èæ˜¯Linux</td></tr></tbody></table><hr><h2 id="_2-docker-çš„å®‰è£…" tabindex="-1"><a class="header-anchor" href="#_2-docker-çš„å®‰è£…" aria-hidden="true">#</a> 2. Docker çš„å®‰è£…</h2><h3 id="_2-1-å®‰è£…-docker-centos7-x" tabindex="-1"><a class="header-anchor" href="#_2-1-å®‰è£…-docker-centos7-x" aria-hidden="true">#</a> 2.1 å®‰è£… Docker(centos7.x)</h3><ul><li>å¸è½½åŸå§‹ Docker</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> yum remove <span class="token function">docker</span> <span class="token punctuation">\</span>
                docker-client <span class="token punctuation">\</span>
                docker-client-latest <span class="token punctuation">\</span>
                docker-common <span class="token punctuation">\</span>
                docker-latest <span class="token punctuation">\</span>
                docker-latest-logrotate <span class="token punctuation">\</span>
                docker-logrotate <span class="token punctuation">\</span>
                docker-engine
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>å®‰è£… Docker ä¾èµ–</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> yum <span class="token function">install</span> -y yum-utils <span class="token punctuation">\</span>
  device-mapper-persistent-data <span class="token punctuation">\</span>
  lvm2
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>è®¾ç½® Docker çš„ yum æº</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> yum-config-manager <span class="token punctuation">\</span>
    --add-repo <span class="token punctuation">\</span>
    https://download.docker.com/linux/centos/docker-ce.repo
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>å®‰è£…æœ€æ–°ç‰ˆçš„ Docker</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce docker-ce-cli containerd.io
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>æŒ‡å®šç‰ˆæœ¬å®‰è£… Docker</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>yum list docker-ce --showduplicates <span class="token operator">|</span> <span class="token function">sort</span> -r

<span class="token comment"># sudo yum install docker-ce-&lt;VERSION_STRING&gt; docker-ce-cli-&lt;VERSION_STRING&gt; containerd.io</span>
<span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce-18.09.5-3.el7 docker-ce-cli-18.09.5-3.el7 containerd.io
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>å¯åŠ¨ Docker</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span>
<span class="token function">sudo</span> systemctl start <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>å…³é—­ Docker</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl stop <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>æµ‹è¯• Docker æ˜¯å¦å®‰è£…</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">docker</span> --version
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2-2-bash-å®‰è£…-é€šç”¨æ‰€æœ‰å¹³å°" tabindex="-1"><a class="header-anchor" href="#_2-2-bash-å®‰è£…-é€šç”¨æ‰€æœ‰å¹³å°" aria-hidden="true">#</a> 2.2 bash å®‰è£…(é€šç”¨æ‰€æœ‰å¹³å°)</h3><p>åœ¨æµ‹è¯•æˆ–å¼€å‘ç¯å¢ƒä¸­ Docker å®˜æ–¹ä¸ºäº†ç®€åŒ–å®‰è£…æµç¨‹ï¼Œæä¾›äº†ä¸€å¥—ä¾¿æ·çš„å®‰è£…è„šæœ¬ï¼ŒCentOS ç³»ç»Ÿä¸Šå¯ä»¥ä½¿ç”¨è¿™å¥—è„šæœ¬å®‰è£…ã€‚å¦å¤–å¯ä»¥é€šè¿‡ <code>--mirror</code> é€‰é¡¹ä½¿ç”¨å›½å†…æºè¿›è¡Œå®‰è£…ã€‚</p><p>æ‰§è¡Œè¿™ä¸ªå‘½ä»¤åï¼Œè„šæœ¬å°±ä¼šè‡ªåŠ¨çš„å°†ä¸€åˆ‡å‡†å¤‡å·¥ä½œåšå¥½ï¼Œå¹¶ä¸”æŠŠ Docker çš„ç¨³å®š(stable)ç‰ˆæœ¬å®‰è£…åœ¨ç³»ç»Ÿä¸­ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> -fsSL get.docker.com -o get-docker.sh
<span class="token function">sudo</span> <span class="token function">sh</span> get-docker.sh --mirror Aliyun
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>å¯åŠ¨ Docker</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span>
<span class="token function">sudo</span> systemctl start <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>åˆ›å»º Docker ç”¨æˆ·ç»„</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">groupadd</span> <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>å°†å½“å‰ç”¨æˆ·åŠ å…¥ Docker ç»„</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">usermod</span> -aG <span class="token function">docker</span> <span class="token environment constant">$USER</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>æµ‹è¯• Docker æ˜¯å¦å®‰è£…</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> --version
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><hr><h2 id="_3-docker-çš„æ ¸å¿ƒæ¶æ„" tabindex="-1"><a class="header-anchor" href="#_3-docker-çš„æ ¸å¿ƒæ¶æ„" aria-hidden="true">#</a> 3. Docker çš„æ ¸å¿ƒæ¶æ„</h2><p><img src="https://chen-coding.oss-cn-shenzhen.aliyuncs.com/server/container /01/image-20200404111908085-0291323.png" alt="" loading="lazy"></p><ul><li><code>é•œåƒ</code>ï¼šä¸€ä¸ªé•œåƒä»£è¡¨ä¸€ä¸ªåº”ç”¨ç¯å¢ƒï¼Œä»–æ˜¯ä¸€ä¸ªåªè¯»çš„æ–‡ä»¶ï¼Œå¦‚ MySQL é•œåƒã€Tomcat é•œåƒã€Nginx é•œåƒç­‰</li><li><code>å®¹å™¨</code>ï¼šé•œåƒæ¯æ¬¡è¿è¡Œä¹‹åå°±æ˜¯äº§ç”Ÿä¸€ä¸ªå®¹å™¨ï¼Œå°±æ˜¯æ­£åœ¨è¿è¡Œçš„é•œåƒï¼Œç‰¹ç‚¹å°±æ˜¯å¯è¯»å¯å†™</li><li><code>ä»“åº“</code>ï¼šç”¨æ¥å­˜æ”¾é•œåƒçš„ä½ç½®ï¼Œç±»ä¼¼äº Maven ä»“åº“ï¼Œä¹Ÿæ˜¯é•œåƒä¸‹è½½å’Œä¸Šä¼ çš„ä½ç½®</li><li><code>dockerFile</code>Docker ç”Ÿæˆé•œåƒé…ç½®æ–‡ä»¶ï¼Œç”¨æ¥ä¹¦å†™è‡ªå®šä¹‰é•œåƒçš„ä¸€äº›é…ç½®</li><li><code>tar</code>ï¼šä¸€ä¸ªå¯¹é•œåƒæ‰“åŒ…çš„æ–‡ä»¶ï¼Œæ—¥åå¯ä»¥è¿˜åŸæˆé•œåƒ</li></ul><hr><h2 id="_4-docker-é…ç½®é˜¿é‡Œé•œåƒåŠ é€ŸæœåŠ¡" tabindex="-1"><a class="header-anchor" href="#_4-docker-é…ç½®é˜¿é‡Œé•œåƒåŠ é€ŸæœåŠ¡" aria-hidden="true">#</a> 4. Docker é…ç½®é˜¿é‡Œé•œåƒåŠ é€ŸæœåŠ¡</h2><h3 id="_4-1-docker-è¿è¡Œæµç¨‹" tabindex="-1"><a class="header-anchor" href="#_4-1-docker-è¿è¡Œæµç¨‹" aria-hidden="true">#</a> 4.1 Docker è¿è¡Œæµç¨‹</h3><p><img src="https://chen-coding.oss-cn-shenzhen.aliyuncs.com/server/container /01/image-20200404120356784.png" alt="" loading="lazy"></p><h3 id="_4-2-docker-é…ç½®é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿ" tabindex="-1"><a class="header-anchor" href="#_4-2-docker-é…ç½®é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿ" aria-hidden="true">#</a> 4.2 Docker é…ç½®é˜¿é‡Œäº‘é•œåƒåŠ é€Ÿ</h3><ul><li>è®¿é—®é˜¿é‡Œäº‘ç™»å½•è‡ªå·±è´¦å·æŸ¥çœ‹ Docker é•œåƒåŠ é€ŸæœåŠ¡ï¼Œå¹¶ä¾ç…§å¦‚ä¸‹å‘½ä»¤è¿›è¡Œä¿®æ”¹</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">mkdir</span> -p /etc/docker
<span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;-</span><span class="token string">&#39;EOF&#39;
{
  &quot;registry-mirrors&quot;: [&quot;https://lz2nib3q.mirror.aliyuncs.com&quot;]
}
EOF</span>
<span class="token function">sudo</span> systemctl daemon-reload
<span class="token function">sudo</span> systemctl restart <span class="token function">docker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>éªŒè¯ Docker çš„é•œåƒåŠ é€Ÿæ˜¯å¦ç”Ÿæ•ˆ</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker info</span>
		<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
    <span class="token number">127.0</span>.0.0/8
   Registry Mirrors:
    <span class="token string">&#39;https://lz2nib3q.mirror.aliyuncs.com/&#39;</span>
   Live Restore Enabled: <span class="token boolean">false</span>
   Product License: Community Engine
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><hr><h2 id="_5-docker-çš„å…¥é—¨åº”ç”¨" tabindex="-1"><a class="header-anchor" href="#_5-docker-çš„å…¥é—¨åº”ç”¨" aria-hidden="true">#</a> 5. Docker çš„å…¥é—¨åº”ç”¨</h2><blockquote><p>docker run hello-world</p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker run hello-world</span>

Hello from Docker<span class="token operator">!</span>
This message shows that your installation appears to be working correctly.

To generate this message, Docker took the following steps:
 <span class="token number">1</span>. The Docker client contacted the Docker daemon.
 <span class="token number">2</span>. The Docker daemon pulled the <span class="token string">&quot;hello-world&quot;</span> image from the Docker Hub.
    <span class="token punctuation">(</span>amd64<span class="token punctuation">)</span>
 <span class="token number">3</span>. The Docker daemon created a new container from that image <span class="token function">which</span> runs the
    executable that produces the output you are currently reading.
 <span class="token number">4</span>. The Docker daemon streamed that output to the Docker client, <span class="token function">which</span> sent it
    to your terminal.

To try something <span class="token function">more</span> ambitious, you can run an Ubuntu container with:
 $ <span class="token function">docker</span> run -it ubuntu <span class="token function">bash</span>

Share images, automate workflows, and <span class="token function">more</span> with a <span class="token function">free</span> Docker ID:
 https://hub.docker.com/

For <span class="token function">more</span> examples and ideas, visit:
 https://docs.docker.com/get-started/
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><hr><h2 id="_6-docker-å¸¸ç”¨å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_6-docker-å¸¸ç”¨å‘½ä»¤" aria-hidden="true">#</a> 6. Docker å¸¸ç”¨å‘½ä»¤</h2><h3 id="_6-1-è¾…åŠ©å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_6-1-è¾…åŠ©å‘½ä»¤" aria-hidden="true">#</a> 6.1 è¾…åŠ©å‘½ä»¤</h3><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 1.å®‰è£…å®Œæˆè¾…åŠ©å‘½ä»¤</span>
  docker version	--------------------------	æŸ¥çœ‹ Docker çš„ä¿¡æ¯
  docker info		--------------------------	æŸ¥çœ‹æ›´è¯¦ç»†çš„ä¿¡æ¯
  docker --help	--------------------------	å¸®åŠ©å‘½ä»¤
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_6-2-images-é•œåƒå‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_6-2-images-é•œåƒå‘½ä»¤" aria-hidden="true">#</a> 6.2 Images é•œåƒå‘½ä»¤</h3><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 1.æŸ¥çœ‹æœ¬æœºä¸­æ‰€æœ‰é•œåƒ</span>
  docker images	--------------------------	åˆ—å‡ºæœ¬åœ°æ‰€æœ‰é•œåƒ
		-a			åˆ—å‡ºæ‰€æœ‰é•œåƒï¼ˆåŒ…å«ä¸­é—´æ˜ åƒå±‚ï¼‰
  	-q			åªæ˜¾ç¤ºé•œåƒid

<span class="token title important"><span class="token punctuation">#</span> 2.æœç´¢é•œåƒ</span>
	docker search [options] é•œåƒå	-------------------	å» dockerhub ä¸ŠæŸ¥è¯¢å½“å‰é•œåƒ
		-s æŒ‡å®šå€¼		åˆ—å‡ºæ”¶è—æ•°ä¸å°‘äºæŒ‡å®šå€¼çš„é•œåƒ
  	--no-trunc	  æ˜¾ç¤ºå®Œæ•´çš„é•œåƒä¿¡æ¯

<span class="token title important"><span class="token punctuation">#</span> 3.ä»ä»“åº“ä¸‹è½½é•œåƒ</span>
	docker pull é•œåƒå[:TAG|@DIGEST]	----------------- ä¸‹è½½é•œåƒ

<span class="token title important"><span class="token punctuation">#</span> 4.åˆ é™¤é•œåƒ</span>
	docker rmi é•œåƒå	--------------------------  åˆ é™¤é•œåƒ
		-f		å¼ºåˆ¶åˆ é™¤
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="_6-3-contrainer-å®¹å™¨å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_6-3-contrainer-å®¹å™¨å‘½ä»¤" aria-hidden="true">#</a> 6.3 Contrainer å®¹å™¨å‘½ä»¤</h3><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 1.è¿è¡Œå®¹å™¨</span>
	docker run é•œåƒå	--------------------------	é•œåƒåæ–°å»ºå¹¶å¯åŠ¨å®¹å™¨
    --name 					åˆ«åä¸ºå®¹å™¨èµ·ä¸€ä¸ªåå­—
    -d							å¯åŠ¨å®ˆæŠ¤å¼å®¹å™¨ï¼ˆåœ¨åå°å¯åŠ¨å®¹å™¨ï¼‰
    -p 							æ˜ å°„ç«¯å£å·ï¼šåŸå§‹ç«¯å£å·		 æŒ‡å®šç«¯å£å·å¯åŠ¨

<span class="token code keyword">	ä¾‹ï¼šdocker run -it --name myTomcat -p 8888:8080 tomcat
      docker run -d --name myTomcat -P tomcat</span>

<span class="token title important"><span class="token punctuation">#</span> 2.æŸ¥çœ‹è¿è¡Œçš„å®¹å™¨</span>
	docker ps					--------------------------	åˆ—å‡ºæ‰€æœ‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨
    -a			æ­£åœ¨è¿è¡Œçš„å’Œå†å²è¿è¡Œè¿‡çš„å®¹å™¨
    -q			é™é»˜æ¨¡å¼ï¼Œåªæ˜¾ç¤ºå®¹å™¨ç¼–å·

<span class="token title important"><span class="token punctuation">#</span> 3.åœæ­¢|å…³é—­|é‡å¯å®¹å™¨</span>
	docker start   å®¹å™¨åå­—æˆ–è€…å®¹å™¨id  --------------- å¼€å¯å®¹å™¨
	docker restart å®¹å™¨åæˆ–è€…å®¹å™¨id    --------------- é‡å¯å®¹å™¨
	docker stop  å®¹å™¨åæˆ–è€…å®¹å™¨id 	    ------------------ æ­£å¸¸åœæ­¢å®¹å™¨è¿è¡Œ
	docker kill  å®¹å™¨åæˆ–è€…å®¹å™¨id      ------------------ ç«‹å³åœæ­¢å®¹å™¨è¿è¡Œ

<span class="token title important"><span class="token punctuation">#</span> 4.åˆ é™¤å®¹å™¨</span>
	docker rm -f å®¹å™¨idå’Œå®¹å™¨å     
	docker rm -f $(docker ps -aq)		--------------------------	åˆ é™¤æ‰€æœ‰å®¹å™¨

<span class="token title important"><span class="token punctuation">#</span> 5.æŸ¥çœ‹å®¹å™¨å†…è¿›ç¨‹</span>
	docker top å®¹å™¨idæˆ–è€…å®¹å™¨å ------------------ æŸ¥çœ‹å®¹å™¨å†…çš„è¿›ç¨‹

<span class="token title important"><span class="token punctuation">#</span> 6.æŸ¥çœ‹æŸ¥çœ‹å®¹å™¨å†…éƒ¨ç»†èŠ‚</span>
	docker inspect å®¹å™¨id 		------------------ æŸ¥çœ‹å®¹å™¨å†…éƒ¨ç»†èŠ‚

<span class="token title important"><span class="token punctuation">#</span> 7.æŸ¥çœ‹å®¹å™¨çš„è¿è¡Œæ—¥å¿—</span>
	docker logs [OPTIONS] å®¹å™¨idæˆ–å®¹å™¨å	------------------ æŸ¥çœ‹å®¹å™¨æ—¥å¿—
    -t			 åŠ å…¥æ—¶é—´æˆ³
    -f			 è·Ÿéšæœ€æ–°çš„æ—¥å¿—æ‰“å°
    --tail 	 æ•°å­—	æ˜¾ç¤ºæœ€åå¤šå°‘æ¡

<span class="token title important"><span class="token punctuation">#</span> 8.è¿›å…¥å®¹å™¨å†…éƒ¨</span>
	docker exec [options] å®¹å™¨id å®¹å™¨å†…å‘½ä»¤ ------------------ è¿›å…¥å®¹å™¨æ‰§è¡Œå‘½ä»¤
		-i		ä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨ï¼Œé€šå¸¸ä¸-tä¸€èµ·ä½¿ç”¨
    -t		åˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯    shellçª—å£   bash 

<span class="token title important"><span class="token punctuation">#</span> 9.å®¹å™¨å’Œå®¿ä¸»æœºä¹‹é—´å¤åˆ¶æ–‡ä»¶</span>
	docker cp æ–‡ä»¶|ç›®å½• å®¹å™¨id:å®¹å™¨è·¯å¾„           -----------------   å°†å®¿ä¸»æœºå¤åˆ¶åˆ°å®¹å™¨å†…éƒ¨
	docker cp å®¹å™¨id:å®¹å™¨å†…èµ„æºè·¯å¾„ å®¿ä¸»æœºç›®å½•è·¯å¾„  -----------------   å°†å®¹å™¨å†…èµ„æºæ‹·è´åˆ°ä¸»æœºä¸Š

<span class="token title important"><span class="token punctuation">#</span> 10.æ•°æ®å·(volum)å®ç°ä¸å®¿ä¸»æœºå…±äº«ç›®å½•</span>
	docker run -v å®¿ä¸»æœºçš„è·¯å¾„|ä»»æ„åˆ«å:/å®¹å™¨å†…çš„è·¯å¾„ é•œåƒå

  æ³¨æ„: 
      <span class="token list punctuation">1.</span> å¦‚æœæ˜¯å®¿ä¸»æœºè·¯å¾„å¿…é¡»æ˜¯ç»å¯¹è·¯å¾„ï¼Œå®¿ä¸»æœºç›®å½•ä¼šè¦†ç›–å®¹å™¨å†…ç›®å½•å†…å®¹
      <span class="token list punctuation">2.</span> å¦‚æœæ˜¯åˆ«ååˆ™ä¼šåœ¨ Docker è¿è¡Œå®¹å™¨æ—¶è‡ªåŠ¨åœ¨å®¿ä¸»æœºä¸­åˆ›å»ºä¸€ä¸ªç›®å½•ï¼Œå¹¶å°†å®¹å™¨ç›®å½•æ–‡ä»¶å¤åˆ¶åˆ°å®¿ä¸»æœºä¸­

<span class="token title important"><span class="token punctuation">#</span> 11.æ‰“åŒ…é•œåƒ</span>
		docker save é•œåƒå -o  åç§°.tar

<span class="token title important"><span class="token punctuation">#</span> 12.è½½å…¥é•œåƒ</span>
		docker load -i åç§°.tar

<span class="token title important"><span class="token punctuation">#</span> 13.å®¹å™¨æ‰“åŒ…æˆæ–°çš„é•œåƒ</span>
	  docker commit -m &quot;æè¿°ä¿¡æ¯&quot; -a &quot;ä½œè€…ä¿¡æ¯&quot; ï¼ˆå®¹å™¨idæˆ–è€…åç§°ï¼‰æ‰“åŒ…çš„é•œåƒåç§°:æ ‡ç­¾
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br></div></div><hr><h2 id="_7-docker-çš„é•œåƒåŸç†" tabindex="-1"><a class="header-anchor" href="#_7-docker-çš„é•œåƒåŸç†" aria-hidden="true">#</a> 7. Docker çš„é•œåƒåŸç†</h2><h3 id="_7-1-é•œåƒæ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#_7-1-é•œåƒæ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> 7.1 é•œåƒæ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>é•œåƒæ˜¯ä¸€ç§è½»é‡çº§çš„ï¼Œå¯æ‰§è¡Œçš„ç‹¬ç«‹è½¯ä»¶åŒ…ï¼Œç”¨æ¥æ‰“åŒ…è½¯ä»¶è¿è¡Œç¯å¢ƒå’ŒåŸºäºè¿è¡Œç¯å¢ƒå¼€å‘çš„è½¯ä»¶ï¼Œå®ƒåŒ…å«è¿è¡ŒæŸä¸ªè½¯ä»¶æ‰€éœ€çš„æ‰€æœ‰å†…å®¹ï¼ŒåŒ…æ‹¬ä»£ç ã€è¿è¡Œæ—¶æ‰€éœ€çš„åº“ã€ç¯å¢ƒå˜é‡å’Œé…ç½®æ–‡ä»¶ã€‚</p><h3 id="_7-2-ä¸ºä»€ä¹ˆä¸€ä¸ªé•œåƒä¼šé‚£ä¹ˆå¤§" tabindex="-1"><a class="header-anchor" href="#_7-2-ä¸ºä»€ä¹ˆä¸€ä¸ªé•œåƒä¼šé‚£ä¹ˆå¤§" aria-hidden="true">#</a> 7.2 ä¸ºä»€ä¹ˆä¸€ä¸ªé•œåƒä¼šé‚£ä¹ˆå¤§ï¼Ÿ</h3><p><img src="https://chen-coding.oss-cn-shenzhen.aliyuncs.com/server/container /01/image-20200404142950068.png" alt="" loading="lazy"></p><blockquote><p><strong>é•œåƒå°±åƒæ˜¯èŠ±å·</strong>ã€‚</p></blockquote><p><strong>UnionFSï¼ˆè”åˆæ–‡ä»¶ç³»ç»Ÿï¼‰</strong>ï¼šUnion æ–‡ä»¶ç³»ç»Ÿæ˜¯ä¸€ç§åˆ†å±‚ï¼Œè½»é‡çº§å¹¶ä¸”é«˜æ€§èƒ½çš„æ–‡ä»¶ç³»ç»Ÿï¼Œå®ƒæ”¯æŒå¯¹æ–‡ä»¶ç³»ç»Ÿçš„ä¿®æ”¹ä½œä¸ºä¸€æ¬¡æäº¤æ¥ä¸€å±‚å±‚çš„å åŠ ï¼ŒåŒæ—¶å¯ä»¥å°†ä¸åŒç›®å½•æŒ‚è½½åˆ°åŒä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿä¸‹ã€‚</p><p>Union æ–‡ä»¶ç³»ç»Ÿæ˜¯ Docker é•œåƒçš„åŸºç¡€ã€‚è¿™ç§æ–‡ä»¶ç³»ç»Ÿç‰¹æ€§ï¼šå°±æ˜¯ä¸€æ¬¡åŒæ—¶åŠ è½½å¤šä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œä½†ä»å¤–é¢çœ‹èµ·æ¥ï¼Œåªèƒ½çœ‹åˆ°ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œè”åˆåŠ è½½ä¼šæŠŠå„å±‚æ–‡ä»¶ç³»ç»Ÿå åŠ èµ·æ¥ï¼Œè¿™æ ·æœ€ç»ˆçš„æ–‡ä»¶ç³»ç»Ÿä¼šåŒ…å«æ‰€æœ‰åº•å±‚çš„æ–‡ä»¶å’Œç›®å½•ã€‚</p><h3 id="_7-3-docker-é•œåƒåŸç†" tabindex="-1"><a class="header-anchor" href="#_7-3-docker-é•œåƒåŸç†" aria-hidden="true">#</a> 7.3 Docker é•œåƒåŸç†</h3><blockquote><p><strong>Docker çš„é•œåƒå®é™…æ˜¯ç”±ä¸€å±‚ä¸€å±‚çš„æ–‡ä»¶ç³»ç»Ÿç»„æˆ</strong>ã€‚</p></blockquote><ul><li><p>bootfsï¼ˆboot file systemï¼‰ä¸»è¦åŒ…å« bootloader å’Œ kernel. bootloader ä¸»è¦æ˜¯å¼•å¯¼åŠ è½½ kernelï¼ŒLinux åˆšå¯åŠ¨æ—¶ä¼šåŠ è½½ bootfs æ–‡ä»¶ç³»ç»Ÿã€‚åœ¨ Docker é•œåƒçš„æœ€åº•å±‚å°±æ˜¯ bootfs.è¿™ä¸€å±‚ä¸ Linux/Unix ç³»ç»Ÿæ˜¯ä¸€æ ·çš„ï¼ŒåŒ…å« boot åŠ è½½å™¨ï¼ˆbootloaderï¼‰å’Œå†…æ ¸(kernel).å½“ boot åŠ è½½å®Œåï¼Œæ•´ä¸ªå†…æ ¸å°±éƒ½åœ¨å†…å­˜ä¸­äº†ï¼Œæ­¤æ—¶å†…å­˜çš„ä½¿ç”¨æƒå·²ç”± bootfs è½¬äº¤ç»™å†…æ ¸ï¼Œæ­¤æ—¶ä¼šå¸è½½ bootfs.</p></li><li><p>rootfsï¼ˆroot file systemï¼‰ï¼Œåœ¨ bootfs ä¹‹ä¸Šï¼ŒåŒ…å«çš„å°±æ˜¯å…¸å‹çš„ Linux ç³»ç»Ÿä¸­çš„ /devã€/procã€/binã€/etc ç­‰æ ‡å‡†çš„ç›®å½•å’Œæ–‡ä»¶ã€‚rootfs å°±æ˜¯å„ç§ä¸åŒçš„æ“ä½œç³»ç»Ÿå‘è¡Œç‰ˆï¼Œæ¯”å¦‚ Ubuntu/CentOS ç­‰ç­‰ã€‚</p></li><li><p>æˆ‘ä»¬å¹³æ—¶å®‰è£…è¿›è™šæ‹Ÿæœºçš„ Centoséƒ½æœ‰ 1 åˆ°å‡ ä¸ªGBï¼Œä¸ºä»€ä¹ˆ Docker è¿™é‡Œæ‰ 200MBï¼Ÿå¯¹äºä¸€ä¸ªç²¾ç®€çš„ OS,rootfs å¯ä»¥å¾ˆå°ï¼Œåªéœ€è¦åŒ…æ‹¬æœ€åŸºæœ¬çš„å‘½ä»¤ã€å·¥å…·å’Œç¨‹åºåº“å°±å¯ä»¥äº†ï¼Œå› ä¸ºåº•å±‚ç›´æ¥ä½¿ç”¨ Host çš„ Kernal,è‡ªå·±åªéœ€è¦æä¾› rootfs å°±è¡Œäº†ã€‚ç”±æ­¤å¯è§ä¸åŒçš„ Linux å‘è¡Œç‰ˆï¼Œä»–ä»¬çš„ bootfs æ˜¯ä¸€è‡´çš„ï¼Œrootfs ä¼šæœ‰å·®åˆ«ï¼Œå› æ­¤ä¸åŒçš„å‘è¡Œç‰ˆå¯ä»¥å…±ç”¨ bootfs.</p></li></ul><p><img src="https://chen-coding.oss-cn-shenzhen.aliyuncs.com/server/container /01/1567585172(1).jpg" alt="" loading="lazy"></p><h3 id="_7-4-ä¸ºä»€ä¹ˆ-docker-é•œåƒè¦é‡‡ç”¨è¿™ç§åˆ†å±‚ç»“æ„å‘¢" tabindex="-1"><a class="header-anchor" href="#_7-4-ä¸ºä»€ä¹ˆ-docker-é•œåƒè¦é‡‡ç”¨è¿™ç§åˆ†å±‚ç»“æ„å‘¢" aria-hidden="true">#</a> 7.4 ä¸ºä»€ä¹ˆ Docker é•œåƒè¦é‡‡ç”¨è¿™ç§åˆ†å±‚ç»“æ„å‘¢?</h3><blockquote><p><strong>æœ€å¤§çš„ä¸€ä¸ªå¥½å¤„å°±æ˜¯èµ„æºå…±äº«</strong>ã€‚</p></blockquote><p>æ¯”å¦‚ï¼šæœ‰å¤šä¸ªé•œåƒéƒ½æ˜¯ä»ç›¸åŒçš„ base é•œåƒæ„å»ºè€Œæ¥çš„ï¼Œé‚£ä¹ˆå®¿ä¸»æœºåªéœ€åœ¨ç£ç›˜ä¸­ä¿å­˜ä¸€ä»½ base é•œåƒã€‚åŒæ—¶å†…å­˜ä¸­ä¹Ÿåªéœ€è¦åŠ è½½ä¸€ä»½ base é•œåƒï¼Œå°±å¯ä»¥ä¸ºæ‰€æœ‰å®¹å™¨æœåŠ¡äº†ï¼Œè€Œä¸”é•œåƒçš„æ¯ä¸€å±‚éƒ½å¯ä»¥è¢«å…±äº«ã€‚</p><p>Docker é•œåƒéƒ½æ˜¯åªè¯»çš„ã€‚å½“å®¹å™¨å¯åŠ¨æ—¶ï¼Œä¸€ä¸ªæ–°çš„å¯å†™å±‚è¢«åŠ è½½åˆ°é•œåƒçš„é¡¶éƒ¨ã€‚è¿™ä¸€å±‚é€šå¸¸è¢«ç§°ä¸ºå®¹å™¨å±‚ï¼Œå®¹å™¨å±‚ä¹‹ä¸‹éƒ½å«é•œåƒå±‚ã€‚</p><hr><h2 id="_8-docker-å®‰è£…å¸¸ç”¨æœåŠ¡" tabindex="-1"><a class="header-anchor" href="#_8-docker-å®‰è£…å¸¸ç”¨æœåŠ¡" aria-hidden="true">#</a> 8.Docker å®‰è£…å¸¸ç”¨æœåŠ¡</h2><h3 id="_8-1-å®‰è£…-mysql" tabindex="-1"><a class="header-anchor" href="#_8-1-å®‰è£…-mysql" aria-hidden="true">#</a> 8.1 å®‰è£… MySQL</h3><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 1.æ‹‰å–mysqlé•œåƒåˆ°æœ¬åœ°</span>
	docker pull mysql:tag (tagä¸åŠ é»˜è®¤æœ€æ–°ç‰ˆæœ¬)
	
<span class="token title important"><span class="token punctuation">#</span> 2.è¿è¡ŒmysqlæœåŠ¡</span>
	docker run --name mysql -e MYSQL_ROOT_PASSWORD=root -d mysql:tag  						  --æ²¡æœ‰æš´éœ²å¤–éƒ¨ç«¯å£å¤–éƒ¨ä¸èƒ½è¿æ¥
	docker run --name mysql -e MYSQL_ROOT_PASSWORD=root -p 3306:3306 -d  mysql:tag  --æ²¡æœ‰æš´éœ²å¤–éƒ¨ç«¯å£

<span class="token title important"><span class="token punctuation">#</span> 3.è¿›å…¥mysqlå®¹å™¨</span>
	docker exec -it å®¹å™¨åç§°|å®¹å™¨id bash

<span class="token title important"><span class="token punctuation">#</span> 4.å¤–éƒ¨æŸ¥çœ‹mysqlæ—¥å¿—</span>
	docker logs å®¹å™¨åç§°|å®¹å™¨id

<span class="token title important"><span class="token punctuation">#</span> 5.ä½¿ç”¨è‡ªå®šä¹‰é…ç½®å‚æ•°</span>
	docker run --name mysql -v /root/mysql/conf.d:/etc/mysql/conf.d -e MYSQL_ROOT_PASSWORD=root -d mysql:tag

<span class="token title important"><span class="token punctuation">#</span> 6.å°†å®¹å™¨æ•°æ®ä½ç½®ä¸å®¿ä¸»æœºä½ç½®æŒ‚è½½ä¿è¯æ•°æ®å®‰å…¨</span>
	docker run --name mysql -v /root/mysql/data:/var/lib/mysql -v /root/mysql/conf.d:/etc/mysql/conf.d -e MYSQL_ROOT_PASSWORD=root -p 3306:3306 -d mysql:tag

<span class="token title important"><span class="token punctuation">#</span> 7.é€šè¿‡å…¶ä»–å®¢æˆ·ç«¯è®¿é—® å¦‚åœ¨windowç³»ç»Ÿ|macosç³»ç»Ÿä½¿ç”¨å®¢æˆ·ç«¯å·¥å…·è®¿é—®</span>
	
<span class="token title important"><span class="token punctuation">#</span> 8.å°† MySQL æ•°æ®åº“å¤‡ä»½ä¸º SQL æ–‡ä»¶</span>
	docker exec mysql|å®¹å™¨id sh -c &#39;exec mysqldump --all-databases -uroot -p&quot;$MYSQL_ROOT_PASSWORD&quot;&#39; &gt; /root/all-databases.sql  --å¯¼å‡ºå…¨éƒ¨æ•°æ®
	docker exec mysql sh -c &#39;exec mysqldump --databases åº“è¡¨ -uroot -p&quot;$MYSQL_ROOT_PASSWORD&quot;&#39; &gt; /root/all-databases.sql  --å¯¼å‡ºæŒ‡å®šåº“æ•°æ®
	docker exec mysql sh -c &#39;exec mysqldump --no-data --databases åº“è¡¨ -uroot -p&quot;$MYSQL_ROOT_PASSWORD&quot;&#39; &gt; /root/all-databases.sql  --å¯¼å‡ºæŒ‡å®šåº“æ•°æ®ä¸è¦æ•°æ®

<span class="token title important"><span class="token punctuation">#</span> 9.æ‰§è¡Œ SQL æ–‡ä»¶åˆ° MySQL ä¸­</span>
	docker exec -i mysql sh -c &#39;exec mysql -uroot -p&quot;$MYSQL_ROOT_PASSWORD&quot;&#39; &lt; /root/xxx.sql
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="_8-2-å®‰è£…-redis" tabindex="-1"><a class="header-anchor" href="#_8-2-å®‰è£…-redis" aria-hidden="true">#</a> 8.2 å®‰è£… Redis</h3><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 1.åœ¨ Docker Hub æœç´¢ Redis é•œåƒ</span>
	docker search redis

<span class="token title important"><span class="token punctuation">#</span> 2.æ‹‰å– Redis é•œåƒåˆ°æœ¬åœ°</span>
	docker pull redis

<span class="token title important"><span class="token punctuation">#</span> 3.å¯åŠ¨ Redis æœåŠ¡è¿è¡Œå®¹å™¨</span>
	docker run --name redis -d redis:tag (æ²¡æœ‰æš´éœ²å¤–éƒ¨ç«¯å£)
	docker run --name redis -p 6379:6379 -d redis:tag (æš´éœ²å¤–éƒ¨å®¿ä¸»æœºç«¯å£ä¸º6379è¿›è¡Œè¿æ¥) 

<span class="token title important"><span class="token punctuation">#</span> 4.æŸ¥çœ‹å¯åŠ¨æ—¥å¿—</span>
	docker logs -t -f å®¹å™¨id|å®¹å™¨åç§°

<span class="token title important"><span class="token punctuation">#</span> 5.è¿›å…¥å®¹å™¨å†…éƒ¨æŸ¥çœ‹</span>
	docker exec -it å®¹å™¨id|åç§° bash  

<span class="token title important"><span class="token punctuation">#</span> 6.åŠ è½½å¤–éƒ¨è‡ªå®šä¹‰é…ç½®å¯åŠ¨rediså®¹å™¨</span>
	é»˜è®¤æƒ…å†µä¸‹ Redis å®˜æ–¹é•œåƒä¸­æ²¡æœ‰ redis.conf é…ç½®æ–‡ä»¶ï¼Œéœ€è¦å»å®˜ç½‘ä¸‹è½½æŒ‡å®šç‰ˆæœ¬çš„é…ç½®æ–‡ä»¶
	<span class="token list punctuation">1.</span> wget http://download.redis.io/releases/redis-5.0.8.tar.gz  ä¸‹è½½å®˜æ–¹å®‰è£…åŒ…
	<span class="token list punctuation">2.</span> å°†å®˜æ–¹å®‰è£…åŒ…ä¸­é…ç½®æ–‡ä»¶è¿›è¡Œå¤åˆ¶åˆ°å®¿ä¸»æœºæŒ‡å®šç›®å½•ä¸­å¦‚ /root/redis/redis.conf æ–‡ä»¶
	<span class="token list punctuation">3.</span> ä¿®æ”¹éœ€è¦è‡ªå®šä¹‰çš„é…ç½®
		 bind 0.0.0.0 å¼€å¯è¿œç¨‹æƒé™
		 appenonly yes å¼€å¯aofæŒä¹…åŒ–
	<span class="token list punctuation">4.</span> åŠ è½½é…ç½®å¯åŠ¨
	docker run --name redis -v /root/redis:/usr/local/etc/redis -p 6379:6379 -d redis redis-server /usr/local/etc/redis/redis.conf  

<span class="token title important"><span class="token punctuation">#</span> 7.å°†æ•°æ®ç›®å½•æŒ‚åœ¨åˆ°æœ¬åœ°ä¿è¯æ•°æ®å®‰å…¨</span>
	docker run --name redis -v /root/redis/data:/data -v /root/redis/redis.conf:/usr/local/etc/redis/redis.conf -p 6379:6379 -d redis redis-server 					/usr/local/etc/redis/redis.conf  
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="_8-3-å®‰è£…-nginx" tabindex="-1"><a class="header-anchor" href="#_8-3-å®‰è£…-nginx" aria-hidden="true">#</a> 8.3 å®‰è£… Nginx</h3><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 1.åœ¨ Docker Hub æœç´¢ Nginx</span>
	docker search nginx

<span class="token title important"><span class="token punctuation">#</span> 2.æ‹‰å– Nginx é•œåƒåˆ°æœ¬åœ°</span>
	[root@localhost ~]# docker pull nginx
    Using default tag: latest
    latest: Pulling from library/nginx
    afb6ec6fdc1c: Pull complete 
    b90c53a0b692: Pull complete 
    11fa52a0fdc0: Pull complete 
    Digest: sha256:30dfa439718a17baafefadf16c5e7c9d0a1cde97b4fd84f63b69e13513be7097
    Status: Downloaded newer image for nginx:latest
    docker.io/library/nginx:latest

<span class="token title important"><span class="token punctuation">#</span> 3.å¯åŠ¨ Nginx å®¹å™¨</span>
		docker run -p 80:80 --name nginx01 -d nginx

<span class="token title important"><span class="token punctuation">#</span> 4.è¿›å…¥å®¹å™¨</span>
		docker exec -it nginx01 /bin/bash
		æŸ¥æ‰¾ç›®å½•:  whereis nginx
		é…ç½®æ–‡ä»¶:  /etc/nginx/nginx.conf

<span class="token title important"><span class="token punctuation">#</span> 5.å¤åˆ¶é…ç½®æ–‡ä»¶åˆ°å®¿ä¸»æœº</span>
		docker cp nginx01(å®¹å™¨id|å®¹å™¨åç§°):/etc/nginx/nginx.conf å®¿ä¸»æœºåå½•

<span class="token title important"><span class="token punctuation">#</span> 6.æŒ‚åœ¨nginxé…ç½®ä»¥åŠhtmlåˆ°å®¿ä¸»æœºå¤–éƒ¨</span>
		docker run --name nginx02 -v /root/nginx/nginx.conf:/etc/nginx/nginx.conf -v /root/nginx/html:/usr/share/nginx/html -p 80:80 -d nginx		
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><h3 id="_8-4-å®‰è£…-tomcat" tabindex="-1"><a class="header-anchor" href="#_8-4-å®‰è£…-tomcat" aria-hidden="true">#</a> 8.4 å®‰è£… Tomcat</h3><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 1.åœ¨ Docker Hub æœç´¢ Tomcat</span>
	docker search tomcat

<span class="token title important"><span class="token punctuation">#</span> 2.ä¸‹è½½ Tomcat é•œåƒ</span>
	docker pull tomcat

<span class="token title important"><span class="token punctuation">#</span> 3.è¿è¡Œ Tomcat é•œåƒ</span>
	docker run -p 8080:8080 -d --name mytomcat tomcat

<span class="token title important"><span class="token punctuation">#</span> 4.è¿›å…¥ Tomcat å®¹å™¨</span>
	docker exec -it mytomcat /bin/bash

<span class="token title important"><span class="token punctuation">#</span> 5.å°† webapps ç›®å½•æŒ‚è½½åœ¨å¤–éƒ¨</span>
	docker run -p 8080:8080 -v /root/webapps:/usr/local/tomcat/webapps -d --name mytomcat tomcat

</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="_8-5-å®‰è£…-mongodb-æ•°æ®åº“" tabindex="-1"><a class="header-anchor" href="#_8-5-å®‰è£…-mongodb-æ•°æ®åº“" aria-hidden="true">#</a> 8.5 å®‰è£… MongoDB æ•°æ®åº“</h3><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 1.è¿è¡Œ MongoDB</span>
	docker run -d -p 27017:27017 --name mymongo mongo  ---æ— é¡»æƒé™
	docker logs -f mymongo --æŸ¥çœ‹mongoè¿è¡Œæ—¥å¿—

<span class="token title important"><span class="token punctuation">#</span> 2.è¿›å…¥ MongoDB å®¹å™¨</span>
	docker exec -it mymongo /bin/bash
	ç›´æ¥æ‰§è¡Œ mongo å‘½ä»¤è¿›è¡Œæ“ä½œ

<span class="token title important"><span class="token punctuation">#</span> 3.å¸¸è§å…·æœ‰æƒé™çš„å®¹å™¨</span>
	docker run --name  mymongo  -p 27017:27017  -d mongo --auth

<span class="token title important"><span class="token punctuation">#</span> 4.è¿›å…¥å®¹å™¨é…ç½®ç”¨æˆ·åå¯†ç </span>
	mongo
  <span class="token title important"><span class="token punctuation">#</span> é€‰æ‹©adminåº“</span>
	use admin
  <span class="token title important"><span class="token punctuation">#</span> åˆ›å»ºç”¨æˆ·,æ­¤ç”¨æˆ·åˆ›å»ºæˆåŠŸ,åˆ™åç»­æ“ä½œéƒ½éœ€è¦ç”¨æˆ·è®¤è¯</span>
	db.createUser({user:&quot;root&quot;,pwd:&quot;root&quot;,roles:[{role:&#39;root&#39;,db:&#39;admin&#39;}]})
	exit

<span class="token title important"><span class="token punctuation">#</span> 5.å°† MongoDB ä¸­æ•°æ®ç›®å½•æ˜ å°„åˆ°å®¿ä¸»æœºä¸­</span>
	docker run -d -p 27017:27017 -v /root/mongo/data:/data/db --name mymongo mongo 
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="_8-6-å®‰è£…-elasticsearch" tabindex="-1"><a class="header-anchor" href="#_8-6-å®‰è£…-elasticsearch" aria-hidden="true">#</a> 8.6 å®‰è£… ElasticSearch</h3><blockquote><p>æ³¨æ„ï¼š<strong>éœ€è¦è°ƒé«˜ JVM çº¿ç¨‹æ•°é™åˆ¶æ•°é‡</strong>ã€‚</p></blockquote><ol start="0"><li>æ‹‰å–é•œåƒè¿è¡Œ ElasticSearch</li></ol><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 1.æ‹‰å– ElasticSearch é•œåƒ</span>
	docker pull elasticsearch:6.4.2

<span class="token title important"><span class="token punctuation">#</span> 2.æŸ¥çœ‹ Docker é•œåƒ</span>
	docker images

<span class="token title important"><span class="token punctuation">#</span> 3.è¿è¡Œ ElasticSearch é•œåƒ</span>
	docker run -p 9200:9200 -p 9300:9300 elasticsearch:6.4.2
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>è‹¥å¯åŠ¨å‡ºç°å¦‚ä¸‹é”™è¯¯ï¼ŒæŒ‰ç…§å¦‚ä¸‹æ­¥éª¤ä¿®æ”¹ã€‚</p><ul><li><img src="https://chen-coding.oss-cn-shenzhen.aliyuncs.com/server/container /01/image-20200602184321790.png" alt="" loading="lazy"></li></ul><ol><li>é¢„å…ˆé…ç½®</li></ol><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 1.åœ¨ CentOS è™šæ‹Ÿæœºä¸­ï¼Œä¿®æ”¹é…ç½® sysctl.conf</span>
	vim /etc/sysctl.conf

<span class="token title important"><span class="token punctuation">#</span> 2.åŠ å…¥å¦‚ä¸‹é…ç½®</span>
	vm.max_map_count=262144 

<span class="token title important"><span class="token punctuation">#</span> 3.å¯ç”¨é…ç½®</span>
	sysctl -p
	æ³¨ï¼šè¿™ä¸€æ­¥æ˜¯ä¸ºäº†é˜²æ­¢å¯åŠ¨å®¹å™¨æ—¶ï¼ŒæŠ¥å‡ºå¦‚ä¸‹é”™è¯¯ï¼šbootstrap checks failed max virtual memory areas vm.max_map_count [65530] likely too low, increase to at least [262144]
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol start="2"><li>å¯åŠ¨ EleasticSearch å®¹å™¨</li></ol><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 0.å¤åˆ¶å®¹å™¨ä¸­ data ç›®å½•åˆ°å®¿ä¸»æœºä¸­</span>
	docker cp å®¹å™¨id:/usr/share/share/elasticsearch/data /root/es

<span class="token title important"><span class="token punctuation">#</span> 1.è¿è¡Œ EleasticSearch å®¹å™¨ï¼ŒæŒ‡å®š JVM å†…å­˜å¤§å°å¹¶æŒ‡å®š IK åˆ†è¯å™¨ä½ç½®</span>
	docker run -d --name es -p 9200:9200 -p 9300:9300 -e ES_JAVA_OPTS=&quot;-Xms128m -Xmx128m&quot; -v /root/es/plugins:/usr/share/elasticsearch/plugins -v /root/es/data:/usr/share/elasticsearch/data elasticsearch:6.4.2
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="3"><li>å®‰è£… IK åˆ†è¯å™¨</li></ol><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 1.ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„ IK åˆ†è¯å™¨</span>
	wget https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v6.4.2/elasticsearch-analysis-ik-6.4.2.zip

<span class="token title important"><span class="token punctuation">#</span> 2.è§£å‹åˆ° plugins æ–‡ä»¶å¤¹ä¸­</span>
	yum install -y unzip
	unzip -d ik elasticsearch-analysis-ik-6.4.2.zip

<span class="token title important"><span class="token punctuation">#</span> 3.æ·»åŠ è‡ªå®šä¹‰æ‰©å±•è¯å’Œåœç”¨è¯</span>
	cd plugins/elasticsearch/config
	vim IKAnalyzer.cfg.xml
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>comment</span><span class="token punctuation">&gt;</span></span>IK Analyzer æ‰©å±•é…ç½®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>comment</span><span class="token punctuation">&gt;</span></span>
		<span class="token comment">&lt;!--ç”¨æˆ·å¯ä»¥åœ¨è¿™é‡Œé…ç½®è‡ªå·±çš„æ‰©å±•å­—å…¸ --&gt;</span>
<span class="token code keyword">		&lt;entry key=&quot;ext_dict&quot;&gt;ext_dict.dic&lt;/entry&gt;
		</span><span class="token comment">&lt;!--ç”¨æˆ·å¯ä»¥åœ¨è¿™é‡Œé…ç½®è‡ªå·±çš„æ‰©å±•åœæ­¢è¯å­—å…¸--&gt;</span>
<span class="token code keyword">		&lt;entry key=&quot;ext_stopwords&quot;&gt;ext_stopwords.dic&lt;/entry&gt;
	&lt;/properties&gt;</span>

<span class="token title important"><span class="token punctuation">#</span> 4.åœ¨ IK åˆ†è¯å™¨ç›®å½•ä¸‹ config ç›®å½•ä¸­åˆ›å»º ext_dict.dic æ–‡ä»¶ï¼Œç¼–ç ä¸€å®šè¦ä¸º UTF-8 æ‰èƒ½ç”Ÿæ•ˆ</span>
	vim ext_dict.dic åŠ å…¥æ‰©å±•è¯å³å¯

<span class="token title important"><span class="token punctuation">#</span> 5. åœ¨ IK åˆ†è¯å™¨ç›®å½•ä¸‹ config ç›®å½•ä¸­åˆ›å»º ext_stopword.dic æ–‡ä»¶ </span>
	vim ext_stopwords.dic åŠ å…¥åœç”¨è¯å³å¯

<span class="token title important"><span class="token punctuation">#</span> 6.é‡å¯å®¹å™¨ç”Ÿæ•ˆ</span>
	docker restart å®¹å™¨id

<span class="token title important"><span class="token punctuation">#</span> 7.å°†æ­¤å®¹å™¨æäº¤æˆä¸ºä¸€ä¸ªæ–°çš„é•œåƒ</span>
	docker commit -a=&quot;xiaochen&quot; -m=&quot;es with IKAnalyzer&quot; å®¹å™¨id xiaochen/elasticsearch:6.4.2
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><ol start="4"><li>å®‰è£… Kibana</li></ol><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 1.ä¸‹è½½ Kibana é•œåƒåˆ°æœ¬åœ°</span>
	docker pull kibana:6.4.2

<span class="token title important"><span class="token punctuation">#</span> 2.å¯åŠ¨ Kibana å®¹å™¨</span>
	docker run -d --name kibana -e ELASTICSEARCH_URL=http://10.15.0.3:9200 -p 5601:5601 kibana:6.4.2
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><hr><h2 id="_10-docker-ä¸­å‡ºç°å¦‚ä¸‹é”™è¯¯è§£å†³æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#_10-docker-ä¸­å‡ºç°å¦‚ä¸‹é”™è¯¯è§£å†³æ–¹æ¡ˆ" aria-hidden="true">#</a> 10. Docker ä¸­å‡ºç°å¦‚ä¸‹é”™è¯¯è§£å†³æ–¹æ¡ˆ</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># docker search mysql æˆ–è€… docker pull è¿™äº›å‘½ä»¤æ— æ³•ä½¿ç”¨</span>
Error response from daemon: Get https://index.docker.io/v1/search?q<span class="token operator">=</span>mysql<span class="token operator">&amp;</span><span class="token assign-left variable">n</span><span class="token operator">=</span><span class="token number">25</span>: x509: certificate has expired or is not yet valid
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://chen-coding.oss-cn-shenzhen.aliyuncs.com/server/container /01/image-20200602183429286.png" alt="" loading="lazy"></p><p><strong>æ³¨æ„</strong>ï¼š<strong>è¿™ä¸ªé”™è¯¯çš„åŸå› åœ¨äºæ˜¯ç³»ç»Ÿçš„æ—¶é—´å’Œ Docker Hub æ—¶é—´ä¸ä¸€è‡´ï¼Œéœ€è¦åšç³»ç»Ÿæ—¶é—´ä¸ç½‘ç»œæ—¶é—´åŒæ­¥</strong>ã€‚</p><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 1.å®‰è£…æ—¶é—´åŒæ­¥</span>
	sudo yum -y install ntp ntpdate

<span class="token title important"><span class="token punctuation">#</span> 2.åŒæ­¥æ—¶é—´</span>
	sudo ntpdate cn.pool.ntp.org

<span class="token title important"><span class="token punctuation">#</span> 3.æŸ¥çœ‹æœ¬æœºæ—¶é—´</span>
	date

<span class="token title important"><span class="token punctuation">#</span> 4.é‡æ–°æµ‹è¯•</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><img src="https://chen-coding.oss-cn-shenzhen.aliyuncs.com/server/container /01/image-20200602183718623.png" alt="" loading="lazy"></p><h2 id="_11-dockerfile" tabindex="-1"><a class="header-anchor" href="#_11-dockerfile" aria-hidden="true">#</a> 11. Dockerfile</h2><h3 id="_11-1-ä»€ä¹ˆæ˜¯-dockerfile" tabindex="-1"><a class="header-anchor" href="#_11-1-ä»€ä¹ˆæ˜¯-dockerfile" aria-hidden="true">#</a> 11.1 ä»€ä¹ˆæ˜¯ Dockerfile</h3><p>Dockerfile å¯ä»¥è®¤ä¸ºæ˜¯<strong>Docker é•œåƒçš„æè¿°æ–‡ä»¶ï¼Œæ˜¯ç”±ä¸€ç³»åˆ—å‘½ä»¤å’Œå‚æ•°æ„æˆçš„è„šæœ¬</strong>ã€‚ä¸»è¦ä½œç”¨æ˜¯<strong>ç”¨æ¥æ„å»º Docker é•œåƒçš„æ„å»ºæ–‡ä»¶</strong>ã€‚</p><p><img src="https://chen-coding.oss-cn-shenzhen.aliyuncs.com/server/container /01/image-20200404111908085.png" alt="" loading="lazy"></p><p><strong>é€šè¿‡æ¶æ„å›¾å¯ä»¥çœ‹å‡ºé€šè¿‡ DockerFile å¯ä»¥ç›´æ¥æ„å»ºé•œåƒ</strong>ã€‚</p><h3 id="_11-2-dockerfile-è§£æè¿‡ç¨‹" tabindex="-1"><a class="header-anchor" href="#_11-2-dockerfile-è§£æè¿‡ç¨‹" aria-hidden="true">#</a> 11.2 Dockerfile è§£æè¿‡ç¨‹</h3><p><img src="https://chen-coding.oss-cn-shenzhen.aliyuncs.com/server/container /01/image-20200603181253804.png" alt="" loading="lazy"></p><h3 id="_11-3-dockerfile-çš„ä¿ç•™å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_11-3-dockerfile-çš„ä¿ç•™å‘½ä»¤" aria-hidden="true">#</a> 11.3 Dockerfile çš„ä¿ç•™å‘½ä»¤</h3><p>å®˜æ–¹è¯´æ˜ï¼šhttps://docs.docker.com/engine/reference/builder/</p><table><thead><tr><th>ä¿ç•™å­—</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td><strong>FROM</strong></td><td><strong>å½“å‰é•œåƒæ˜¯åŸºäºå“ªä¸ªé•œåƒçš„</strong> <code>ç¬¬ä¸€ä¸ªæŒ‡ä»¤å¿…é¡»æ˜¯FROM</code></td></tr><tr><td>MAINTAINER</td><td>é•œåƒç»´æŠ¤è€…çš„å§“åå’Œé‚®ç®±åœ°å€</td></tr><tr><td><strong>RUN</strong></td><td><strong>æ„å»ºé•œåƒæ—¶éœ€è¦è¿è¡Œçš„æŒ‡ä»¤</strong></td></tr><tr><td><strong>EXPOSE</strong></td><td><strong>å½“å‰å®¹å™¨å¯¹å¤–æš´éœ²å‡ºçš„ç«¯å£å·</strong></td></tr><tr><td><strong>WORKDIR</strong></td><td><strong>æŒ‡å®šåœ¨åˆ›å»ºå®¹å™¨åï¼Œç»ˆç«¯é»˜è®¤ç™»å½•è¿›æ¥çš„å·¥ä½œç›®å½•ï¼Œä¸€ä¸ªè½è„šç‚¹</strong></td></tr><tr><td><strong>ENV</strong></td><td><strong>ç”¨æ¥åœ¨æ„å»ºé•œåƒè¿‡ç¨‹ä¸­è®¾ç½®ç¯å¢ƒå˜é‡</strong></td></tr><tr><td><strong>ADD</strong></td><td><strong>å°†å®¿ä¸»æœºç›®å½•ä¸‹çš„æ–‡ä»¶æ‹·è´è¿›é•œåƒä¸”ADDå‘½ä»¤ä¼šè‡ªåŠ¨å¤„ç†URLå’Œè§£å‹taråŒ…</strong></td></tr><tr><td><strong>COPY</strong></td><td><strong>ç±»ä¼¼äºADDï¼Œæ‹·è´æ–‡ä»¶å’Œç›®å½•åˆ°é•œåƒä¸­<br>å°†ä»æ„å»ºä¸Šä¸‹æ–‡ç›®å½•ä¸­åŸè·¯å¾„çš„æ–‡ä»¶/ç›®å½•å¤åˆ¶åˆ°æ–°çš„ä¸€å±‚çš„é•œåƒå†…çš„ç›®æ ‡è·¯å¾„ä½ç½®</strong></td></tr><tr><td><strong>VOLUME</strong></td><td><strong>å®¹å™¨æ•°æ®å·ï¼Œç”¨äºæ•°æ®ä¿å­˜å’ŒæŒä¹…åŒ–å·¥ä½œ</strong></td></tr><tr><td><strong>CMD</strong></td><td><strong>æŒ‡å®šä¸€ä¸ªå®¹å™¨å¯åŠ¨æ—¶è¦è¿è¡Œçš„å‘½ä»¤<br>Dockerfileä¸­å¯ä»¥æœ‰å¤šä¸ªCMDæŒ‡ä»¤ï¼Œä½†åªæœ‰æœ€åä¸€ä¸ªç”Ÿæ•ˆï¼ŒCMDä¼šè¢«docker runä¹‹åçš„å‚æ•°æ›¿æ¢</strong></td></tr><tr><td><strong>ENTRYPOINT</strong></td><td><strong>æŒ‡å®šä¸€ä¸ªå®¹å™¨å¯åŠ¨æ—¶è¦è¿è¡Œçš„å‘½ä»¤<br>ENTRYPOINTçš„ç›®çš„å’ŒCMDä¸€æ ·ï¼Œéƒ½æ˜¯åœ¨æŒ‡å®šå®¹å™¨å¯åŠ¨ç¨‹åºåŠå…¶å‚æ•°</strong></td></tr></tbody></table><h4 id="_11-3-1-from-å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_11-3-1-from-å‘½ä»¤" aria-hidden="true">#</a> 11.3.1 FROM å‘½ä»¤</h4><p>åŸºäºå“ªä¸ªé•œåƒè¿›è¡Œæ„å»ºæ–°çš„é•œåƒï¼Œåœ¨æ„å»ºæ—¶ä¼šè‡ªåŠ¨ä» Docker Hubæ‹‰å– base é•œåƒï¼Œ<strong>å¿…é¡»ä½œä¸º Dockerfile çš„ç¬¬ä¸€ä¸ªæŒ‡ä»¤å‡ºç°</strong>ã€‚</p><p>è¯­æ³•ï¼š</p><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">FROM</span>  &lt;image&gt;</span>
<span class="token instruction"><span class="token keyword">FROM</span>  &lt;image&gt;[:&lt;tag&gt;]     ä½¿ç”¨ç‰ˆæœ¬ä¸å†™ä¸ºlatest</span>
<span class="token instruction"><span class="token keyword">FROM</span>  &lt;image&gt;[@&lt;digest&gt;]  ä½¿ç”¨æ‘˜è¦</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_11-3-2-maintainer-å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_11-3-2-maintainer-å‘½ä»¤" aria-hidden="true">#</a> 11.3.2 MAINTAINER å‘½ä»¤</h4><p>é•œåƒç»´æŠ¤è€…çš„å§“åå’Œé‚®ç®±åœ°å€[åºŸå¼ƒ]ã€‚</p><p>è¯­æ³•ï¼š</p><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">MAINTAINER</span> &lt;name&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_11-3-3-run-å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_11-3-3-run-å‘½ä»¤" aria-hidden="true">#</a> 11.3.3 RUN å‘½ä»¤</h4><p>RUN å‘½ä»¤å°†åœ¨å½“å‰æ˜ åƒä¹‹ä¸Šçš„æ–°å±‚ä¸­æ‰§è¡Œä»»ä½•å‘½ä»¤å¹¶æäº¤ç»“æœï¼Œç”Ÿæˆçš„æäº¤æ˜ åƒå°†ç”¨äº Dockerfile ä¸­çš„ä¸‹ä¸€æ­¥ã€‚</p><p>è¯­æ³•ï¼š</p><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">RUN</span> &lt;command&gt; (shell form, the command is run in a shell, which by default is /bin/sh -c on Linux or cmd /S /C on Windows)</span>
<span class="token instruction"><span class="token keyword">RUN</span> echo hello</span>

<span class="token instruction"><span class="token keyword">RUN</span> [<span class="token string">&quot;executable&quot;</span>, <span class="token string">&quot;param1&quot;</span>, <span class="token string">&quot;param2&quot;</span>] (exec form)</span>
<span class="token instruction"><span class="token keyword">RUN</span> [<span class="token string">&quot;/bin/bash&quot;</span>, <span class="token string">&quot;-c&quot;</span>, <span class="token string">&quot;echo hello&quot;</span>]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_11-3-4-expose-å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_11-3-4-expose-å‘½ä»¤" aria-hidden="true">#</a> 11.3.4 EXPOSE å‘½ä»¤</h4><p>ç”¨æ¥æŒ‡å®šæ„å»ºçš„é•œåƒåœ¨è¿è¡Œä¸ºå®¹å™¨æ—¶å¯¹å¤–æš´éœ²çš„ç«¯å£ã€‚</p><p>è¯­æ³•ï¼š</p><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">EXPOSE</span> 80/tcp  å¦‚æœæ²¡æœ‰æ˜¾ç¤ºæŒ‡å®šåˆ™é»˜è®¤æš´éœ²éƒ½æ˜¯tcp</span>
<span class="token instruction"><span class="token keyword">EXPOSE</span> 80/udp</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_11-3-5-cmd-å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_11-3-5-cmd-å‘½ä»¤" aria-hidden="true">#</a> 11.3.5 CMD å‘½ä»¤</h4><p>ç”¨æ¥ä¸ºå¯åŠ¨çš„å®¹å™¨æŒ‡å®šæ‰§è¡Œçš„å‘½ä»¤ï¼Œ<strong>åœ¨ Dockerfile ä¸­åªèƒ½æœ‰ä¸€æ¡ CMD æŒ‡ä»¤ã€‚å¦‚æœåˆ—å‡ºå¤šä¸ªå‘½ä»¤ï¼Œåˆ™åªæœ‰æœ€åä¸€ä¸ªå‘½ä»¤æ‰ä¼šç”Ÿæ•ˆ</strong>ã€‚</p><p>è¯­æ³•ï¼š</p><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">&quot;executable&quot;</span>,<span class="token string">&quot;param1&quot;</span>,<span class="token string">&quot;param2&quot;</span>] (exec form, this is the preferred form)</span>
<span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">&quot;param1&quot;</span>,<span class="token string">&quot;param2&quot;</span>] (as default parameters to ENTRYPOINT)</span>
<span class="token instruction"><span class="token keyword">CMD</span> command param1 param2 (shell form)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="_11-3-6-workdir-å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_11-3-6-workdir-å‘½ä»¤" aria-hidden="true">#</a> 11.3.6 WORKDIR å‘½ä»¤</h4><p>ç”¨æ¥ä¸º Dockerfile ä¸­çš„ä»»ä½• RUNã€CMDã€ENTRYPOINTã€COPY å’Œ ADD æŒ‡ä»¤è®¾ç½®å·¥ä½œç›®å½•ã€‚å¦‚æœ WORKDIR ä¸å­˜åœ¨ï¼Œå³ä½¿å®ƒæ²¡æœ‰åœ¨ä»»ä½•åç»­ Dockerfile æŒ‡ä»¤ä¸­ä½¿ç”¨ï¼Œå®ƒä¹Ÿå°†è¢«åˆ›å»ºã€‚</p><p>è¯­æ³•ï¼š</p><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">WORKDIR</span> /path/to/workdir</span>

<span class="token instruction"><span class="token keyword">WORKDIR</span> /a</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> b</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> c</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>æ³¨æ„ï¼šWORKDIR æŒ‡ä»¤å¯ä»¥åœ¨ Dockerfile ä¸­å¤šæ¬¡ä½¿ç”¨ã€‚å¦‚æœæä¾›äº†ç›¸å¯¹è·¯å¾„ï¼Œåˆ™è¯¥è·¯å¾„å°†ä¸å…ˆå‰ WORKDIR æŒ‡ä»¤çš„è·¯å¾„ç›¸å¯¹</strong>ã€‚</p><h4 id="_11-3-7-env-å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_11-3-7-env-å‘½ä»¤" aria-hidden="true">#</a> 11.3.7 ENV å‘½ä»¤</h4><p>ç”¨æ¥ä¸ºæ„å»ºé•œåƒè®¾ç½®ç¯å¢ƒå˜é‡ï¼Œè¿™ä¸ªå€¼å°†å‡ºç°åœ¨æ„å»ºé˜¶æ®µä¸­æ‰€æœ‰åç»­æŒ‡ä»¤çš„ç¯å¢ƒä¸­ã€‚</p><p>è¯­æ³•ï¼š</p><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">ENV</span> &lt;key&gt; &lt;value&gt;</span>
<span class="token instruction"><span class="token keyword">ENV</span> &lt;key&gt;=&lt;value&gt; ...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_11-3-8-add-å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_11-3-8-add-å‘½ä»¤" aria-hidden="true">#</a> 11.3.8 ADD å‘½ä»¤</h4><p>ç”¨æ¥ä» context ä¸Šä¸‹æ–‡å¤åˆ¶æ–°æ–‡ä»¶ã€ç›®å½•æˆ–è¿œç¨‹æ–‡ä»¶urlï¼Œå¹¶å°†å®ƒä»¬æ·»åŠ åˆ°ä½äºæŒ‡å®šè·¯å¾„çš„æ˜ åƒæ–‡ä»¶ç³»ç»Ÿä¸­ã€‚</p><p>è¯­æ³•ï¼š</p><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">ADD</span> hom* /mydir/       é€šé…ç¬¦æ·»åŠ å¤šä¸ªæ–‡ä»¶</span>
<span class="token instruction"><span class="token keyword">ADD</span> hom?.txt /mydir/   é€šé…ç¬¦æ·»åŠ </span>
<span class="token instruction"><span class="token keyword">ADD</span> test.txt relativeDir/  å¯ä»¥æŒ‡å®šç›¸å¯¹è·¯å¾„</span>
<span class="token instruction"><span class="token keyword">ADD</span> test.txt /absoluteDir/ ä¹Ÿå¯ä»¥æŒ‡å®šç»å¯¹è·¯å¾„</span>
<span class="token instruction"><span class="token keyword">ADD</span> url </span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h4 id="_11-3-9-copy-å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_11-3-9-copy-å‘½ä»¤" aria-hidden="true">#</a> 11.3.9 COPY å‘½ä»¤</h4><p>ç”¨æ¥å°† context ç›®å½•ä¸­æŒ‡å®šæ–‡ä»¶å¤åˆ¶åˆ°é•œåƒçš„æŒ‡å®šç›®å½•ä¸­ã€‚</p><p>è¯­æ³•ï¼š</p><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">COPY</span> src dest</span>
<span class="token instruction"><span class="token keyword">COPY</span> [<span class="token string">&quot;&lt;src&gt;&quot;</span>,... <span class="token string">&quot;&lt;dest&gt;&quot;</span>]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="_11-3-10-volume-å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_11-3-10-volume-å‘½ä»¤" aria-hidden="true">#</a> 11.3.10 VOLUME å‘½ä»¤</h4><p>ç”¨æ¥å®šä¹‰å®¹å™¨è¿è¡Œæ—¶å¯ä»¥æŒ‚åœ¨åˆ°å®¿ä¸»æœºçš„ç›®å½•ã€‚</p><p>è¯­æ³•ï¼š</p><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">VOLUME</span> [<span class="token string">&quot;/data&quot;</span>]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_11-3-11-entrypointå‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_11-3-11-entrypointå‘½ä»¤" aria-hidden="true">#</a> 11.3.11 ENTRYPOINTå‘½ä»¤</h4><p>ç”¨æ¥æŒ‡å®šå®¹å™¨å¯åŠ¨æ—¶æ‰§è¡Œå‘½ä»¤å’Œ CMD ç±»ä¼¼ã€‚</p><p>è¯­æ³•:</p><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code>  [&quot;executable&quot;, &quot;param1&quot;, &quot;param2&quot;]
<span class="token instruction"><span class="token keyword">ENTRYPOINT</span> command param1 param2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>ENTRYPOINT æŒ‡ä»¤ï¼Œå¾€å¾€ç”¨äºè®¾ç½®å®¹å™¨å¯åŠ¨åçš„<strong>ç¬¬ä¸€ä¸ªå‘½ä»¤</strong>ï¼Œè¿™å¯¹ä¸€ä¸ªå®¹å™¨æ¥è¯´å¾€å¾€æ˜¯å›ºå®šçš„ã€‚</li><li>CMD æŒ‡ä»¤ï¼Œå¾€å¾€ç”¨äºè®¾ç½®å®¹å™¨å¯åŠ¨çš„<strong>ç¬¬ä¸€ä¸ªå‘½ä»¤çš„é»˜è®¤å‚æ•°</strong>ï¼Œè¿™å¯¹ä¸€ä¸ªå®¹å™¨æ¥è¯´å¯ä»¥æ˜¯å˜åŒ–çš„ã€‚</li></ul><h4 id="_11-3-11-entrypoint-å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_11-3-11-entrypoint-å‘½ä»¤" aria-hidden="true">#</a> 11.3.11 ENTRYPOINT å‘½ä»¤</h4><h3 id="_11-4-dockerfile-æ„å»º-springboot-é¡¹ç›®éƒ¨ç½²" tabindex="-1"><a class="header-anchor" href="#_11-4-dockerfile-æ„å»º-springboot-é¡¹ç›®éƒ¨ç½²" aria-hidden="true">#</a> 11.4 Dockerfile æ„å»º SpringBoot é¡¹ç›®éƒ¨ç½²</h3><ol><li><p>å‡†å¤‡ SpringBoot å¯è¿è¡Œé¡¹ç›® <img src="https://chen-coding.oss-cn-shenzhen.aliyuncs.com/server/container /01/image-20200605172151266.png" alt="" loading="lazy"></p></li><li><p>å°†å¯è¿è¡Œé¡¹ç›®æ”¾å…¥ Linux è™šæ‹Ÿæœºä¸­ <img src="https://chen-coding.oss-cn-shenzhen.aliyuncs.com/server/container /01/image-20200605172340380.png" alt="" loading="lazy"></p></li><li><p>ç¼–å†™ Dockerfile</p></li></ol><div class="language-docker ext-docker line-numbers-mode"><pre class="language-docker"><code><span class="token instruction"><span class="token keyword">FROM</span> openjdk:8</span>
<span class="token instruction"><span class="token keyword">WORKDIR</span> /ems</span>
<span class="token instruction"><span class="token keyword">ADD</span> ems.jar /ems</span>
<span class="token instruction"><span class="token keyword">EXPOSE</span> 8989</span>
<span class="token instruction"><span class="token keyword">ENTRYPOINT</span> [<span class="token string">&quot;java&quot;</span>,<span class="token string">&quot;-jar&quot;</span>]</span>
<span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">&quot;ems.jar&quot;</span>]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol start="4"><li>æ„å»ºé•œåƒ</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ems<span class="token punctuation">]</span><span class="token comment"># docker build -t ems .</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="5"><li>è¿è¡Œé•œåƒ</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@localhost ems<span class="token punctuation">]</span><span class="token comment"># docker run -p 8989:8989 ems</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="6"><li>è®¿é—®é¡¹ç›®</li></ol><div class="language-http ext-http line-numbers-mode"><pre class="language-http"><code><span class="token header"><span class="token header-name keyword">http</span><span class="token punctuation">:</span><span class="token header-value">//10.15.0.8:8989/ems/login.html</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="https://chen-coding.oss-cn-shenzhen.aliyuncs.com/server/container /01/image-20200605173141636.png" alt="" loading="lazy"></p><hr><h2 id="_12-é«˜çº§ç½‘ç»œé…ç½®" tabindex="-1"><a class="header-anchor" href="#_12-é«˜çº§ç½‘ç»œé…ç½®" aria-hidden="true">#</a> 12. é«˜çº§ç½‘ç»œé…ç½®</h2><h3 id="_12-1-è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#_12-1-è¯´æ˜" aria-hidden="true">#</a> 12.1 è¯´æ˜</h3><p>å½“ Docker å¯åŠ¨æ—¶ï¼Œä¼šè‡ªåŠ¨åœ¨ä¸»æœºä¸Šåˆ›å»ºä¸€ä¸ª <code>docker0</code> è™šæ‹Ÿç½‘æ¡¥ï¼Œå®é™…ä¸Šæ˜¯ Linux çš„ä¸€ä¸ª bridgeï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ªè½¯ä»¶äº¤æ¢æœºï¼Œå®ƒä¼šåœ¨æŒ‚è½½åˆ°å®ƒçš„ç½‘å£ä¹‹é—´è¿›è¡Œè½¬å‘ã€‚</p><p>åŒæ—¶ï¼ŒDocker éšæœºåˆ†é…ä¸€ä¸ªæœ¬åœ°æœªå ç”¨çš„ç§æœ‰ç½‘æ®µï¼ˆåœ¨ <a href="https://tools.ietf.org/html/rfc1918" target="_blank" rel="noopener noreferrer">RFC1918<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> ä¸­å®šä¹‰ï¼‰ä¸­çš„ä¸€ä¸ªåœ°å€ç»™ <code>docker0</code> æ¥å£ã€‚æ¯”å¦‚å…¸å‹çš„ <code>172.17.42.1</code>ï¼Œæ©ç ä¸º <code>255.255.0.0</code>ã€‚æ­¤åå¯åŠ¨çš„å®¹å™¨å†…çš„ç½‘å£ä¹Ÿä¼šè‡ªåŠ¨åˆ†é…ä¸€ä¸ªåŒä¸€ç½‘æ®µï¼ˆ<code>172.17.0.0/16</code>ï¼‰çš„åœ°å€ã€‚</p><p>å½“åˆ›å»ºä¸€ä¸ª Docker å®¹å™¨çš„æ—¶å€™ï¼ŒåŒæ—¶ä¼šåˆ›å»ºäº†ä¸€å¯¹ <code>veth pair</code> æ¥å£ï¼ˆå½“æ•°æ®åŒ…å‘é€åˆ°ä¸€ä¸ªæ¥å£æ—¶ï¼Œå¦å¤–ä¸€ä¸ªæ¥å£ä¹Ÿå¯ä»¥æ”¶åˆ°ç›¸åŒçš„æ•°æ®åŒ…ï¼‰ã€‚è¿™å¯¹æ¥å£ä¸€ç«¯åœ¨å®¹å™¨å†…ï¼Œå³ <code>eth0</code>ï¼›å¦ä¸€ç«¯åœ¨æœ¬åœ°å¹¶è¢«æŒ‚è½½åˆ° <code>docker0</code> ç½‘æ¡¥ï¼Œåç§°ä»¥ <code>veth</code> å¼€å¤´ï¼ˆä¾‹å¦‚ <code>vethAQI2QT</code>ï¼‰ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œä¸»æœºå¯ä»¥è·Ÿå®¹å™¨é€šä¿¡ï¼Œå®¹å™¨ä¹‹é—´ä¹Ÿå¯ä»¥ç›¸äº’é€šä¿¡ã€‚Docker å°±åˆ›å»ºäº†åœ¨ä¸»æœºå’Œæ‰€æœ‰å®¹å™¨ä¹‹é—´ä¸€ä¸ªè™šæ‹Ÿå…±äº«ç½‘ç»œã€‚</p><p><img src="https://chen-coding.oss-cn-shenzhen.aliyuncs.com/server/container /01/image-20201125105847896.png" alt="" loading="lazy"></p><h3 id="_12-2-docker-ç½‘ç»œæ“ä½œå‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_12-2-docker-ç½‘ç»œæ“ä½œå‘½ä»¤" aria-hidden="true">#</a> 12.2 Docker ç½‘ç»œæ“ä½œå‘½ä»¤</h3><ul><li>æŸ¥çœ‹ç½‘ç»œä¿¡æ¯</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> network <span class="token function">ls</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>åˆ›å»ºä¸€ä¸ªç½‘æ¡¥</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> network create -d bridge ç½‘æ¡¥åç§°
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>åˆ é™¤ä¸€ä¸ªç½‘æ¡¥</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> network <span class="token function">rm</span> ç½‘æ¡¥åç§°
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_12-3-å®¹å™¨ä¹‹é—´ä½¿ç”¨ç½‘ç»œé€šä¿¡" tabindex="-1"><a class="header-anchor" href="#_12-3-å®¹å™¨ä¹‹é—´ä½¿ç”¨ç½‘ç»œé€šä¿¡" aria-hidden="true">#</a> 12.3 å®¹å™¨ä¹‹é—´ä½¿ç”¨ç½‘ç»œé€šä¿¡</h3><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 1.æŸ¥è¯¢å½“å‰ç½‘ç»œé…ç½®</span>
  docker network ls
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>NETWORK ID          NAME                DRIVER              SCOPE
8e424e5936b7        bridge              bridge              <span class="token builtin class-name">local</span>
17d974db02da        docker_gwbridge     bridge              <span class="token builtin class-name">local</span>
d6c326e433f7        <span class="token function">host</span>                <span class="token function">host</span>                <span class="token builtin class-name">local</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 2.åˆ›å»ºæ¡¥æ¥ç½‘ç»œ</span>
  docker network create -d bridge info
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@centos ~<span class="token punctuation">]</span><span class="token comment"># docker network create -d bridge info</span>
6e4aaebff79b1df43a064e0e8fdab08f52d64ce34db78dd5184ce7aaaf550a2f
<span class="token punctuation">[</span>root@centos ~<span class="token punctuation">]</span><span class="token comment"># docker network ls</span>
NETWORK ID          NAME                DRIVER              SCOPE
8e424e5936b7        bridge              bridge              <span class="token builtin class-name">local</span>
17d974db02da        docker_gwbridge     bridge              <span class="token builtin class-name">local</span>
d6c326e433f7        <span class="token function">host</span>                <span class="token function">host</span>                <span class="token builtin class-name">local</span>
6e4aaebff79b        info                bridge              <span class="token builtin class-name">local</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-markdown ext-md line-numbers-mode"><pre class="language-markdown"><code><span class="token title important"><span class="token punctuation">#</span> 3.å¯åŠ¨å®¹å™¨æŒ‡å®šä½¿ç”¨ç½‘æ¡¥</span>
  docker run -d -p 8890:80 --name nginx001 --network info nginx 
  docker run -d -p 8891:80 --name nginx002 --network info nginx 
	
  æ³¨æ„ï¼šä¸€æ—¦æŒ‡å®šç½‘æ¡¥å--nameæŒ‡å®šåå­—å°±æ˜¯ä¸»æœºåï¼Œå¤šä¸ªå®¹å™¨æŒ‡å®šåœ¨åŒä¸€ä¸ªç½‘æ¡¥æ—¶ï¼Œå¯ä»¥åœ¨ä»»æ„ä¸€ä¸ªå®¹å™¨ä¸­ä½¿ç”¨ä¸»æœºåä¸å®¹å™¨è¿›è¡Œäº’é€šã€‚
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@centos ~<span class="token punctuation">]</span><span class="token comment"># docker run -d -p 8890:80 --name nginx001 --network info nginx </span>
c315bcc94e9ddaa36eb6c6f16ca51592b1ac8bf1ecfe9d8f01d892f3f10825fe
<span class="token punctuation">[</span>root@centos ~<span class="token punctuation">]</span><span class="token comment"># docker run -d -p 8891:80 --name nginx002 --network info nginx</span>
f8682db35dd7fb4395f90edb38df7cad71bbfaba71b6a4c6e2a3a525cb73c2a5
<span class="token punctuation">[</span>root@centos ~<span class="token punctuation">]</span><span class="token comment"># docker ps</span>
CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                  NAMES
f8682db35dd7        nginx               <span class="token string">&quot;/docker-entrypoint.â€¦&quot;</span>   <span class="token number">3</span> seconds ago       Up <span class="token number">2</span> seconds        <span class="token number">0.0</span>.0.0:8891-<span class="token operator">&gt;</span><span class="token number">80</span>/tcp   nginx002
c315bcc94e9d        nginx               <span class="token string">&quot;/docker-entrypoint.â€¦&quot;</span>   <span class="token number">7</span> minutes ago       Up <span class="token number">7</span> minutes        <span class="token number">0.0</span>.0.0:8890-<span class="token operator">&gt;</span><span class="token number">80</span>/tcp   nginx001
b63169d43792        mysql:5.7.19        <span class="token string">&quot;docker-entrypoint.sâ€¦&quot;</span>   <span class="token number">7</span> minutes ago       Up <span class="token number">7</span> minutes        <span class="token number">3306</span>/tcp               mysql_mysql.1.s75qe5kkpwwttyf0wrjvd2cda
<span class="token punctuation">[</span>root@centos ~<span class="token punctuation">]</span><span class="token comment"># docker exec -it f8682db35dd7 /bin/bash</span>
root@f8682db35dd7:/<span class="token comment"># curl http://nginx001</span>
<span class="token operator">&lt;</span><span class="token operator">!</span>DOCTYPE html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>html<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>head<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>Welcome to nginx<span class="token operator">!</span><span class="token operator">&lt;</span>/title<span class="token operator">&gt;</span>
<span class="token punctuation">..</span><span class="token punctuation">..</span>.
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><hr><h2 id="_13-é«˜çº§æ•°æ®å·é…ç½®" tabindex="-1"><a class="header-anchor" href="#_13-é«˜çº§æ•°æ®å·é…ç½®" aria-hidden="true">#</a> 13. é«˜çº§æ•°æ®å·é…ç½®</h2><h3 id="_13-1-è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#_13-1-è¯´æ˜" aria-hidden="true">#</a> 13.1 è¯´æ˜</h3><p><strong>æ•°æ®å·</strong>æ˜¯ä¸€ä¸ªå¯ä¾›ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨ä½¿ç”¨çš„ç‰¹æ®Šç›®å½•ï¼Œå®ƒç»•è¿‡ UFSï¼Œå¯ä»¥æä¾›å¾ˆå¤šæœ‰ç”¨çš„ç‰¹æ€§ï¼š</p><ul><li><code>æ•°æ®å·</code> å¯ä»¥åœ¨å®¹å™¨ä¹‹é—´å…±äº«å’Œé‡ç”¨</li><li>å¯¹ <code>æ•°æ®å·</code> çš„ä¿®æ”¹ä¼šç«‹é©¬ç”Ÿæ•ˆ</li><li>å¯¹ <code>æ•°æ®å·</code> çš„æ›´æ–°ï¼Œä¸ä¼šå½±å“é•œåƒ</li><li><code>æ•°æ®å·</code> é»˜è®¤ä¼šä¸€ç›´å­˜åœ¨ï¼Œå³ä½¿å®¹å™¨è¢«åˆ é™¤</li></ul><blockquote><p>æ³¨æ„ï¼š<code>æ•°æ®å·</code> çš„ä½¿ç”¨ï¼Œç±»ä¼¼äº Linux ä¸‹å¯¹ç›®å½•æˆ–æ–‡ä»¶è¿›è¡Œ mountï¼Œé•œåƒä¸­çš„è¢«æŒ‡å®šä¸ºæŒ‚è½½ç‚¹çš„ç›®å½•ä¸­çš„æ–‡ä»¶ä¼šå¤åˆ¶åˆ°æ•°æ®å·ä¸­ï¼ˆä»…æ•°æ®å·ä¸ºç©ºæ—¶ä¼šå¤åˆ¶ï¼‰ã€‚</p></blockquote><h3 id="_13-2-æ•°æ®å·æ“ä½œå‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_13-2-æ•°æ®å·æ“ä½œå‘½ä»¤" aria-hidden="true">#</a> 13.2 æ•°æ®å·æ“ä½œå‘½ä»¤</h3><ul><li>åˆ›å»ºæ•°æ®å·</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@centos ~<span class="token punctuation">]</span><span class="token comment"># docker volume create my-vol</span>
my-vol
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>æŸ¥çœ‹æ•°æ®å·</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@centos ~<span class="token punctuation">]</span><span class="token comment"># docker volume inspect my-vol       </span>
<span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">&quot;CreatedAt&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;2020-11-25T11:43:56+08:00&quot;</span>,
        <span class="token string">&quot;Driver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;local&quot;</span>,
        <span class="token string">&quot;Labels&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
        <span class="token string">&quot;Mountpoint&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/var/lib/docker/volumes/my-vol/_data&quot;</span>,
        <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;my-vol&quot;</span>,
        <span class="token string">&quot;Options&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>,
        <span class="token string">&quot;Scope&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;local&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li>æŒ‚è½½æ•°æ®å·</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@centos ~<span class="token punctuation">]</span><span class="token comment"># docker run -d -P --name web  -v my-vol:/usr/share/nginx/html  nginx</span>
<span class="token punctuation">[</span>root@centos ~<span class="token punctuation">]</span><span class="token comment"># docker inspect web</span>
				<span class="token string">&quot;Mounts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token string">&quot;Type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;volume&quot;</span>,
                <span class="token string">&quot;Name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;my-vol&quot;</span>,
                <span class="token string">&quot;Source&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/var/lib/docker/volumes/my-vol/_data&quot;</span>,
                <span class="token string">&quot;Destination&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;/usr/share/nginx/html&quot;</span>,
                <span class="token string">&quot;Driver&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;local&quot;</span>,
                <span class="token string">&quot;Mode&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;z&quot;</span>,
                <span class="token string">&quot;RW&quot;</span><span class="token builtin class-name">:</span> true,
                <span class="token string">&quot;Propagation&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>,
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ul><li>åˆ é™¤æ•°æ®å·</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker</span> volume <span class="token function">rm</span> my-vol
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><hr><h2 id="_14-docker-compose" tabindex="-1"><a class="header-anchor" href="#_14-docker-compose" aria-hidden="true">#</a> 14. Docker Compose</h2><h3 id="_14-1-ç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#_14-1-ç®€ä»‹" aria-hidden="true">#</a> 14.1 ç®€ä»‹</h3><p><code> Docker Compose</code> é¡¹ç›®æ˜¯ Docker å®˜æ–¹çš„å¼€æºé¡¹ç›®ï¼Œè´Ÿè´£å®ç°å¯¹ Docker å®¹å™¨é›†ç¾¤çš„å¿«é€Ÿç¼–æ’ã€‚ä»åŠŸèƒ½ä¸Šçœ‹ï¼Œè·Ÿ <code>OpenStack</code> ä¸­çš„ <code>Heat</code> ååˆ†ç±»ä¼¼ã€‚</p><p>å…¶ä»£ç ç›®å‰åœ¨ https://github.com/docker/compose ä¸Šå¼€æºã€‚</p><p><code>Docker Compose</code> å®šä½æ˜¯<strong>å®šä¹‰å’Œè¿è¡Œå¤šä¸ª Docker å®¹å™¨çš„åº”ç”¨ï¼ˆDefining and running multi-container Docker applicationsï¼‰</strong>ï¼Œå…¶å‰èº«æ˜¯å¼€æºé¡¹ç›® Fig.</p><p>é€šè¿‡å‰é¢çš„ä»‹ç»ï¼Œæˆ‘ä»¬çŸ¥é“ä½¿ç”¨ä¸€ä¸ª <code>Dockerfile</code> æ¨¡æ¿æ–‡ä»¶ï¼Œå¯ä»¥è®©ç”¨æˆ·å¾ˆæ–¹ä¾¿çš„å®šä¹‰ä¸€ä¸ªå•ç‹¬çš„åº”ç”¨å®¹å™¨ã€‚ç„¶è€Œï¼Œåœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œç»å¸¸ä¼šç¢°åˆ°éœ€è¦å¤šä¸ªå®¹å™¨ç›¸äº’é…åˆæ¥å®ŒæˆæŸé¡¹ä»»åŠ¡çš„æƒ…å†µã€‚ä¾‹å¦‚è¦å®ç°ä¸€ä¸ª Web é¡¹ç›®ï¼Œé™¤äº† Web æœåŠ¡å®¹å™¨æœ¬èº«ï¼Œå¾€å¾€è¿˜éœ€è¦å†åŠ ä¸Šåç«¯çš„æ•°æ®åº“æœåŠ¡å®¹å™¨ï¼Œç”šè‡³è¿˜åŒ…æ‹¬è´Ÿè½½å‡è¡¡å®¹å™¨ç­‰ã€‚</p><p><code>Docker Compose</code> æ°å¥½æ»¡è¶³äº†è¿™æ ·çš„éœ€æ±‚ã€‚å®ƒå…è®¸ç”¨æˆ·é€šè¿‡ä¸€ä¸ªå•ç‹¬çš„ <code>docker-compose.yml</code> æ¨¡æ¿æ–‡ä»¶ï¼ˆYAML æ ¼å¼ï¼‰æ¥å®šä¹‰ä¸€ç»„ç›¸å…³è”çš„åº”ç”¨å®¹å™¨ä¸ºä¸€ä¸ªé¡¹ç›®ï¼ˆprojectï¼‰ã€‚</p><p><code>Docker Compose</code> ä¸­æœ‰ä¸¤ä¸ªé‡è¦çš„æ¦‚å¿µï¼š</p><ul><li>æœåŠ¡ (<code>service</code>)ï¼šä¸€ä¸ªåº”ç”¨çš„å®¹å™¨ï¼Œå®é™…ä¸Šå¯ä»¥åŒ…æ‹¬è‹¥å¹²è¿è¡Œç›¸åŒé•œåƒçš„å®¹å™¨å®ä¾‹ã€‚</li><li>é¡¹ç›® (<code>project</code>)ï¼šç”±ä¸€ç»„å…³è”çš„åº”ç”¨å®¹å™¨ç»„æˆçš„ä¸€ä¸ªå®Œæ•´ä¸šåŠ¡å•å…ƒï¼Œåœ¨ <code>docker-compose.yml</code> æ–‡ä»¶ä¸­å®šä¹‰ã€‚</li></ul><p><code>Docker Compose</code> çš„é»˜è®¤ç®¡ç†å¯¹è±¡æ˜¯é¡¹ç›®ï¼Œé€šè¿‡å­å‘½ä»¤å¯¹é¡¹ç›®ä¸­çš„ä¸€ç»„å®¹å™¨è¿›è¡Œä¾¿æ·åœ°ç”Ÿå‘½å‘¨æœŸç®¡ç†ã€‚</p><p><code>Docker Compose</code> é¡¹ç›®ç”± Python ç¼–å†™ï¼Œå®ç°ä¸Šè°ƒç”¨äº† Docker æœåŠ¡æä¾›çš„ API æ¥å¯¹å®¹å™¨è¿›è¡Œç®¡ç†ã€‚å› æ­¤ï¼Œåªè¦æ‰€æ“ä½œçš„å¹³å°æ”¯æŒ Docker APIï¼Œå°±å¯ä»¥åœ¨å…¶ä¸Šåˆ©ç”¨ <code>Docker Compose</code> æ¥è¿›è¡Œç¼–æ’ç®¡ç†ã€‚</p><h3 id="_14-2-å®‰è£…ä¸å¸è½½" tabindex="-1"><a class="header-anchor" href="#_14-2-å®‰è£…ä¸å¸è½½" aria-hidden="true">#</a> 14.2 å®‰è£…ä¸å¸è½½</h3><ol><li>å®‰è£…</li></ol><ul><li>Linux</li></ul><p>åœ¨ Linux ä¸Šçš„ä¹Ÿå®‰è£…ååˆ†ç®€å•ï¼Œä»å®˜æ–¹ GitHub Release å¤„ç›´æ¥ä¸‹è½½ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶å³å¯ã€‚ä¾‹å¦‚ï¼Œåœ¨ Linux64 ä½ç³»ç»Ÿä¸Šç›´æ¥ä¸‹è½½å¯¹åº”çš„äºŒè¿›åˆ¶åŒ…ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> -L https://github.com/docker/compose/releases/download/1.25.5/docker-compose-<span class="token variable"><span class="token variable">`</span><span class="token function">uname</span> -s<span class="token variable">`</span></span>-<span class="token variable"><span class="token variable">`</span><span class="token function">uname</span> -m<span class="token variable">`</span></span> <span class="token operator">&gt;</span> /usr/local/bin/docker-compose
<span class="token function">chmod</span> +x /usr/local/bin/docker-compose
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>MacOSã€Window</li></ul><p>Docker Compose å¯ä»¥é€šè¿‡ Python çš„åŒ…ç®¡ç†å·¥å…· pip è¿›è¡Œå®‰è£…ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä¸‹è½½ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶ä½¿ç”¨ï¼Œç”šè‡³èƒ½å¤Ÿç›´æ¥åœ¨ Docker å®¹å™¨ä¸­è¿è¡Œã€‚</p><blockquote><p><code>Docker Desktop for Mac/Windows è‡ªå¸¦ docker-compose äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œå®‰è£… Docker ä¹‹åå¯ä»¥ç›´æ¥ä½¿ç”¨</code>ã€‚</p></blockquote><ol start="2"><li>bash å‘½ä»¤è¡¥å…¨</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> -L https://raw.githubusercontent.com/docker/compose/1.25.5/contrib/completion/bash/docker-compose <span class="token operator">&gt;</span> /etc/bash_completion.d/docker-compose
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="3"><li>å¸è½½</li></ol><p>å¦‚æœæ˜¯äºŒè¿›åˆ¶åŒ…æ–¹å¼å®‰è£…çš„ï¼Œåˆ é™¤äºŒè¿›åˆ¶æ–‡ä»¶å³å¯ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">rm</span> /usr/local/bin/docker-compose
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="4"><li>æµ‹è¯•å®‰è£…æˆåŠŸ</li></ol><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker-compose</span> --version
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_14-3-docker-compose-ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#_14-3-docker-compose-ä½¿ç”¨" aria-hidden="true">#</a> 14.3 Docker Compose ä½¿ç”¨</h3><ol><li>ç›¸å…³æ¦‚å¿µ</li></ol><p>é¦–å…ˆä»‹ç»å‡ ä¸ªæœ¯è¯­ã€‚</p><ul><li>æœåŠ¡ (<code>service</code>)ï¼šä¸€ä¸ªåº”ç”¨å®¹å™¨ï¼Œå®é™…ä¸Šå¯ä»¥è¿è¡Œå¤šä¸ªç›¸åŒé•œåƒçš„å®ä¾‹ã€‚</li><li>é¡¹ç›® (<code>project</code>)ï¼šç”±ä¸€ç»„å…³è”çš„åº”ç”¨å®¹å™¨ç»„æˆçš„ä¸€ä¸ªå®Œæ•´ä¸šåŠ¡å•å…ƒã€‚ä¸€ä¸ªé¡¹ç›®å¯ä»¥ç”±å¤šä¸ªæœåŠ¡ï¼ˆå®¹å™¨ï¼‰å…³è”è€Œæˆï¼Œ<code>Docker Compose</code> é¢å‘é¡¹ç›®è¿›è¡Œç®¡ç†ã€‚</li></ul><ol start="2"><li>åœºæ™¯</li></ol><p>æœ€å¸¸è§çš„é¡¹ç›®æ˜¯ Web ç½‘ç«™ï¼Œè¯¥é¡¹ç›®åº”è¯¥åŒ…å« Web åº”ç”¨å’Œç¼“å­˜ã€‚</p><ul><li>SpringBoot åº”ç”¨</li><li>MySQL æœåŠ¡</li><li>Redis æœåŠ¡</li><li>ElasticSearch æœåŠ¡</li><li>.......</li></ul><ol start="3"><li>docker-compose æ¨¡æ¿</li></ol><blockquote><p>å‚è€ƒæ–‡æ¡£ï¼šhttps://docker_practice.gitee.io/zh-cn/compose/compose_file.html</p></blockquote><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3.0&quot;</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">mysqldb</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> mysql<span class="token punctuation">:</span>5.7.19
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> mysql
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;3306:3306&quot;</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /root/mysql/conf<span class="token punctuation">:</span>/etc/mysql/conf.d
      <span class="token punctuation">-</span> /root/mysql/logs<span class="token punctuation">:</span>/logs
      <span class="token punctuation">-</span> /root/mysql/data<span class="token punctuation">:</span>/var/lib/mysql
    <span class="token key atrule">environment</span><span class="token punctuation">:</span>
      <span class="token key atrule">MYSQL_ROOT_PASSWORD</span><span class="token punctuation">:</span> root
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ems
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> redis

  <span class="token key atrule">redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> redis<span class="token punctuation">:</span>4.0.14
    <span class="token key atrule">container_name</span><span class="token punctuation">:</span> redis
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;6379:6379&quot;</span>
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> ems
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> /root/redis/data<span class="token punctuation">:</span>/data
    <span class="token key atrule">command</span><span class="token punctuation">:</span> redis<span class="token punctuation">-</span>server
    
<span class="token key atrule">networks</span><span class="token punctuation">:</span>
  <span class="token key atrule">ems</span><span class="token punctuation">:</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><ol start="4"><li>é€šè¿‡ docker-compose è¿è¡Œä¸€ç»„å®¹å™¨</li></ol><blockquote><p>å‚è€ƒæ–‡æ¡£ï¼šhttps://docker_practice.gitee.io/zh-cn/compose/commands.html</p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># å‰å°å¯åŠ¨ä¸€ç»„æœåŠ¡</span>
<span class="token function">docker-compose</span> up

<span class="token comment"># åå°å¯åŠ¨ä¸€ç»„æœåŠ¡ </span>
<span class="token function">docker-compose</span> up -d
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="_14-4-docker-compose-æ¨¡æ¿æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#_14-4-docker-compose-æ¨¡æ¿æ–‡ä»¶" aria-hidden="true">#</a> 14.4 docker-compose æ¨¡æ¿æ–‡ä»¶</h3><p>æ¨¡æ¿æ–‡ä»¶æ˜¯ä½¿ç”¨ <code>Docker Compose</code> çš„æ ¸å¿ƒï¼Œæ¶‰åŠåˆ°çš„æŒ‡ä»¤å…³é”®å­—ä¹Ÿæ¯”è¾ƒå¤šã€‚ä½†å¤§å®¶ä¸ç”¨æ‹…å¿ƒï¼Œè¿™é‡Œé¢å¤§éƒ¨åˆ†æŒ‡ä»¤è·Ÿ <code>docker run</code> ç›¸å…³å‚æ•°çš„å«ä¹‰éƒ½æ˜¯ç±»ä¼¼çš„ã€‚</p><p>é»˜è®¤çš„æ¨¡æ¿æ–‡ä»¶åç§°ä¸º <code>docker-compose.yml</code>ï¼Œæ ¼å¼ä¸º YAML æ ¼å¼ã€‚</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3&quot;</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">webapp</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> examples/web
    <span class="token key atrule">ports</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;80:80&quot;</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;/data&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>æ³¨æ„æ¯ä¸ªæœåŠ¡éƒ½å¿…é¡»é€šè¿‡ <code>image</code> æŒ‡ä»¤æŒ‡å®šé•œåƒæˆ– <code>build</code> æŒ‡ä»¤ï¼ˆéœ€è¦ Dockerfileï¼‰ç­‰æ¥è‡ªåŠ¨æ„å»ºç”Ÿæˆé•œåƒã€‚</p><p>å¦‚æœä½¿ç”¨ <code>build</code> æŒ‡ä»¤ï¼Œåœ¨ <code>Dockerfile</code> ä¸­è®¾ç½®çš„é€‰é¡¹(ä¾‹å¦‚ï¼š<code>CMD</code>, <code>EXPOSE</code>, <code>VOLUME</code>, <code>ENV</code> ç­‰) å°†ä¼šè‡ªåŠ¨è¢«è·å–ï¼Œæ— éœ€åœ¨ <code>docker-compose.yml</code> ä¸­é‡å¤è®¾ç½®ã€‚</p><p>ä¸‹é¢åˆ†åˆ«ä»‹ç»å„ä¸ªæŒ‡ä»¤çš„ç”¨æ³•ã€‚</p><ul><li><code>build</code></li></ul><p>æŒ‡å®š <code>Dockerfile</code> æ‰€åœ¨æ–‡ä»¶å¤¹çš„è·¯å¾„ï¼ˆå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ï¼Œæˆ–è€…ç›¸å¯¹ docker-compose.yml æ–‡ä»¶çš„è·¯å¾„ï¼‰ã€‚<code>Docker Compose</code> å°†ä¼šåˆ©ç”¨å®ƒè‡ªåŠ¨æ„å»ºè¿™ä¸ªé•œåƒï¼Œç„¶åä½¿ç”¨è¿™ä¸ªé•œåƒã€‚</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&#39;3&#39;</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>

  <span class="token key atrule">webapp</span><span class="token punctuation">:</span>
    <span class="token key atrule">build</span><span class="token punctuation">:</span> ./dir
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>context</code> æŒ‡ä»¤æŒ‡å®š <code>Dockerfile</code> æ‰€åœ¨æ–‡ä»¶å¤¹çš„è·¯å¾„ã€‚</p><p>ä½¿ç”¨ <code>dockerfile</code> æŒ‡ä»¤æŒ‡å®š <code>Dockerfile</code> æ–‡ä»¶åã€‚</p><p>ä½¿ç”¨ <code>arg</code> æŒ‡ä»¤æŒ‡å®šæ„å»ºé•œåƒæ—¶çš„å˜é‡ã€‚</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&#39;3&#39;</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>

  <span class="token key atrule">webapp</span><span class="token punctuation">:</span>
    <span class="token key atrule">build</span><span class="token punctuation">:</span>
      <span class="token key atrule">context</span><span class="token punctuation">:</span> ./dir
      <span class="token key atrule">dockerfile</span><span class="token punctuation">:</span> Dockerfile<span class="token punctuation">-</span>alternate
      <span class="token key atrule">args</span><span class="token punctuation">:</span>
        <span class="token key atrule">buildno</span><span class="token punctuation">:</span> <span class="token number">1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li><code>command</code></li></ul><p>è¦†ç›–å®¹å™¨å¯åŠ¨åé»˜è®¤æ‰§è¡Œçš„å‘½ä»¤ã€‚</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">command</span><span class="token punctuation">:</span> echo &quot;hello world&quot;
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>container_name</code></li></ul><p>æŒ‡å®šå®¹å™¨åç§°ã€‚é»˜è®¤å°†ä¼šä½¿ç”¨ <code>é¡¹ç›®åç§°_æœåŠ¡åç§°_åºå·</code> è¿™æ ·çš„æ ¼å¼ã€‚</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">container_name</span><span class="token punctuation">:</span> docker<span class="token punctuation">-</span>web<span class="token punctuation">-</span>container
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><blockquote><p>æ³¨æ„: æŒ‡å®šå®¹å™¨åç§°åï¼Œè¯¥æœåŠ¡å°†æ— æ³•è¿›è¡Œæ‰©å±•ï¼ˆscaleï¼‰ï¼Œå› ä¸º Docker ä¸å…è®¸å¤šä¸ªå®¹å™¨å…·æœ‰ç›¸åŒçš„åç§°ã€‚</p></blockquote><ul><li><code>depends_on</code></li></ul><p>è§£å†³å®¹å™¨çš„ä¾èµ–ã€å¯åŠ¨å…ˆåçš„é—®é¢˜ã€‚ä»¥ä¸‹ä¾‹å­ä¸­ä¼šå…ˆå¯åŠ¨ <code>redis</code>ã€<code>db</code> å†å¯åŠ¨ <code>web</code>.</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&#39;3&#39;</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">web</span><span class="token punctuation">:</span>
    <span class="token key atrule">build</span><span class="token punctuation">:</span> .
    <span class="token key atrule">depends_on</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> db
      <span class="token punctuation">-</span> redis

  <span class="token key atrule">redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> redis

  <span class="token key atrule">db</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> postgres
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><blockquote><p>æ³¨æ„ï¼š<code>web</code> æœåŠ¡ä¸ä¼šç­‰å¾… <code>redis</code> <code>db</code> ã€Œå®Œå…¨å¯åŠ¨ã€ä¹‹åæ‰å¯åŠ¨ã€‚</p></blockquote><ul><li><code>env_file</code></li></ul><p>ä»æ–‡ä»¶ä¸­è·å–ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥ä¸ºå•ç‹¬çš„æ–‡ä»¶è·¯å¾„æˆ–åˆ—è¡¨ã€‚</p><p>å¦‚æœé€šè¿‡ <code>docker-compose -f FILE</code> æ–¹å¼æ¥æŒ‡å®š Docker Compose æ¨¡æ¿æ–‡ä»¶ï¼Œåˆ™ <code>env_file</code> ä¸­å˜é‡çš„è·¯å¾„ä¼šåŸºäºæ¨¡æ¿æ–‡ä»¶è·¯å¾„ã€‚</p><p>å¦‚æœæœ‰å˜é‡åç§°ä¸ <code>environment</code> æŒ‡ä»¤å†²çªï¼Œåˆ™æŒ‰ç…§æƒ¯ä¾‹ï¼Œä»¥åè€…ä¸ºå‡†ã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>env_file: .env

env_file:
  - ./common.env
  - ./apps/web.env
  - /opt/secrets.env
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>ç¯å¢ƒå˜é‡æ–‡ä»¶ä¸­æ¯ä¸€è¡Œå¿…é¡»ç¬¦åˆæ ¼å¼ï¼Œæ”¯æŒ <code>#</code> å¼€å¤´çš„æ³¨é‡Šè¡Œã€‚</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># common.env: Set development environment</span>
<span class="token assign-left variable">PROG_ENV</span><span class="token operator">=</span>development
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li><code>environment</code></li></ul><p>è®¾ç½®ç¯å¢ƒå˜é‡ã€‚ä½ å¯ä»¥ä½¿ç”¨æ•°ç»„æˆ–å­—å…¸ä¸¤ç§æ ¼å¼ã€‚</p><p>åªç»™å®šåç§°çš„å˜é‡ä¼šè‡ªåŠ¨è·å–è¿è¡Œ Docker Compose ä¸»æœºä¸Šå¯¹åº”å˜é‡çš„å€¼ï¼Œå¯ä»¥ç”¨æ¥é˜²æ­¢æ³„éœ²ä¸å¿…è¦çš„æ•°æ®ã€‚</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">environment</span><span class="token punctuation">:</span>
  <span class="token key atrule">RACK_ENV</span><span class="token punctuation">:</span> development
  <span class="token key atrule">SESSION_SECRET</span><span class="token punctuation">:</span>

<span class="token key atrule">environment</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> RACK_ENV=development
  <span class="token punctuation">-</span> SESSION_SECRET
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>å¦‚æœå˜é‡åç§°æˆ–è€…å€¼ä¸­ç”¨åˆ° <code>true|falseï¼Œyes|no</code> ç­‰è¡¨è¾¾ <a href="https://yaml.org/type/bool.html" target="_blank" rel="noopener noreferrer">å¸ƒå°”<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> å«ä¹‰çš„è¯æ±‡ï¼Œæœ€å¥½æ”¾åˆ°å¼•å·é‡Œï¼Œé¿å… YAML è‡ªåŠ¨è§£ææŸäº›å†…å®¹ä¸ºå¯¹åº”çš„å¸ƒå°”è¯­ä¹‰ã€‚è¿™äº›ç‰¹å®šè¯æ±‡ï¼ŒåŒ…æ‹¬</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>y<span class="token operator">|</span>Y<span class="token operator">|</span><span class="token function">yes</span><span class="token operator">|</span>Yes<span class="token operator">|</span>YES<span class="token operator">|</span>n<span class="token operator">|</span>N<span class="token operator">|</span>no<span class="token operator">|</span>No<span class="token operator">|</span>NO<span class="token operator">|</span><span class="token boolean">true</span><span class="token operator">|</span>True<span class="token operator">|</span>TRUE<span class="token operator">|</span><span class="token boolean">false</span><span class="token operator">|</span>False<span class="token operator">|</span>FALSE<span class="token operator">|</span>on<span class="token operator">|</span>On<span class="token operator">|</span>ON<span class="token operator">|</span>off<span class="token operator">|</span>Off<span class="token operator">|</span>OFF
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li><code>healthcheck</code></li></ul><p>é€šè¿‡å‘½ä»¤æ£€æŸ¥å®¹å™¨æ˜¯å¦å¥åº·è¿è¡Œã€‚</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">healthcheck</span><span class="token punctuation">:</span>
  <span class="token key atrule">test</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;CMD&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;curl&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-f&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://localhost&quot;</span><span class="token punctuation">]</span>
  <span class="token key atrule">interval</span><span class="token punctuation">:</span> 1m30s
  <span class="token key atrule">timeout</span><span class="token punctuation">:</span> 10s
  <span class="token key atrule">retries</span><span class="token punctuation">:</span> <span class="token number">3</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><code>image</code></li></ul><p>æŒ‡å®šä¸ºé•œåƒåç§°æˆ–é•œåƒ IDã€‚å¦‚æœé•œåƒåœ¨æœ¬åœ°ä¸å­˜åœ¨ï¼Œ<code>Docker Compose</code> å°†ä¼šå°è¯•æ‹‰å–è¿™ä¸ªé•œåƒã€‚</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">image</span><span class="token punctuation">:</span> ubuntu
<span class="token key atrule">image</span><span class="token punctuation">:</span> orchardup/postgresql
<span class="token key atrule">image</span><span class="token punctuation">:</span> a4bc65fd
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><code>networks</code></li></ul><p>é…ç½®å®¹å™¨è¿æ¥çš„ç½‘ç»œã€‚</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3&quot;</span>
<span class="token key atrule">services</span><span class="token punctuation">:</span>

  <span class="token key atrule">some-service</span><span class="token punctuation">:</span>
    <span class="token key atrule">networks</span><span class="token punctuation">:</span>
     <span class="token punctuation">-</span> some<span class="token punctuation">-</span>network
     <span class="token punctuation">-</span> other<span class="token punctuation">-</span>network

<span class="token key atrule">networks</span><span class="token punctuation">:</span>
  <span class="token key atrule">some-network</span><span class="token punctuation">:</span>
  <span class="token key atrule">other-network</span><span class="token punctuation">:</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li><code>ports</code></li></ul><p>æš´éœ²ç«¯å£ä¿¡æ¯ã€‚</p><p>ä½¿ç”¨å®¿ä¸»ç«¯å£ï¼šå®¹å™¨ç«¯å£ <code>(HOST:CONTAINER)</code> æ ¼å¼ï¼Œæˆ–è€…ä»…ä»…æŒ‡å®šå®¹å™¨çš„ç«¯å£ï¼ˆå®¿ä¸»å°†ä¼šéšæœºé€‰æ‹©ç«¯å£ï¼‰éƒ½å¯ä»¥ã€‚</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">ports</span><span class="token punctuation">:</span>
 <span class="token punctuation">-</span> <span class="token string">&quot;3000&quot;</span>
 <span class="token punctuation">-</span> <span class="token string">&quot;8000:8000&quot;</span>
 <span class="token punctuation">-</span> <span class="token string">&quot;49100:22&quot;</span>
 <span class="token punctuation">-</span> <span class="token string">&quot;127.0.0.1:8001:8001&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>æ³¨æ„ï¼šå½“ä½¿ç”¨ <code>HOST:CONTAINER</code> æ ¼å¼æ¥æ˜ å°„ç«¯å£æ—¶ï¼Œå¦‚æœä½ ä½¿ç”¨çš„å®¹å™¨ç«¯å£å°äº 60 å¹¶ä¸”æ²¡æ”¾åˆ°å¼•å·é‡Œï¼Œå¯èƒ½ä¼šå¾—åˆ°é”™è¯¯ç»“æœï¼Œå› ä¸º <code>YAML</code> ä¼šè‡ªåŠ¨è§£æ <code>xx:yy</code> è¿™ç§æ•°å­—æ ¼å¼ä¸º 60 è¿›åˆ¶ã€‚ä¸ºé¿å…å‡ºç°è¿™ç§é—®é¢˜ï¼Œå»ºè®®æ•°å­—ä¸²éƒ½é‡‡ç”¨å¼•å·åŒ…æ‹¬èµ·æ¥çš„å­—ç¬¦ä¸²æ ¼å¼ã€‚</strong></p><ul><li><code>sysctls</code></li></ul><p>é…ç½®å®¹å™¨å†…æ ¸å‚æ•°ã€‚</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">sysctls</span><span class="token punctuation">:</span>
  <span class="token key atrule">net.core.somaxconn</span><span class="token punctuation">:</span> <span class="token number">1024</span>
  <span class="token key atrule">net.ipv4.tcp_syncookies</span><span class="token punctuation">:</span> <span class="token number">0</span>

<span class="token key atrule">sysctls</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> net.core.somaxconn=1024
  <span class="token punctuation">-</span> net.ipv4.tcp_syncookies=0
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li><code>ulimits</code></li></ul><p>æŒ‡å®šå®¹å™¨çš„ ulimits é™åˆ¶å€¼ã€‚</p><p>ä¾‹å¦‚ï¼ŒæŒ‡å®šæœ€å¤§è¿›ç¨‹æ•°ä¸º 65535ï¼ŒæŒ‡å®šæ–‡ä»¶å¥æŸ„æ•°ä¸º 20000ï¼ˆè½¯é™åˆ¶ï¼Œåº”ç”¨å¯ä»¥éšæ—¶ä¿®æ”¹ï¼Œä¸èƒ½è¶…è¿‡ç¡¬é™åˆ¶ï¼‰ å’Œ 40000ï¼ˆç³»ç»Ÿç¡¬é™åˆ¶ï¼Œåªèƒ½ root ç”¨æˆ·æé«˜ï¼‰ã€‚</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code>  <span class="token key atrule">ulimits</span><span class="token punctuation">:</span>
    <span class="token key atrule">nproc</span><span class="token punctuation">:</span> <span class="token number">65535</span>
    <span class="token key atrule">nofile</span><span class="token punctuation">:</span>
      <span class="token key atrule">soft</span><span class="token punctuation">:</span> <span class="token number">20000</span>
      <span class="token key atrule">hard</span><span class="token punctuation">:</span> <span class="token number">40000</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li><code>volumes</code></li></ul><p>æ•°æ®å·æ‰€æŒ‚è½½è·¯å¾„è®¾ç½®ã€‚å¯ä»¥è®¾ç½®ä¸ºå®¿ä¸»æœºè·¯å¾„(<code>HOST:CONTAINER</code>)æˆ–è€…æ•°æ®å·åç§°(<code>VOLUME:CONTAINER</code>)ï¼Œå¹¶ä¸”å¯ä»¥è®¾ç½®è®¿é—®æ¨¡å¼ ï¼ˆ<code>HOST:CONTAINER:ro</code>ï¼‰ã€‚</p><p>è¯¥æŒ‡ä»¤ä¸­è·¯å¾„æ”¯æŒç›¸å¯¹è·¯å¾„ã€‚</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">volumes</span><span class="token punctuation">:</span>
 <span class="token punctuation">-</span> /var/lib/mysql
 <span class="token punctuation">-</span> cache/<span class="token punctuation">:</span>/tmp/cache
 <span class="token punctuation">-</span> ~/configs<span class="token punctuation">:</span>/etc/configs/<span class="token punctuation">:</span>ro
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>å¦‚æœè·¯å¾„ä¸ºæ•°æ®å·åç§°ï¼Œå¿…é¡»åœ¨æ–‡ä»¶ä¸­é…ç½®æ•°æ®å·ã€‚</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">&quot;3&quot;</span>

<span class="token key atrule">services</span><span class="token punctuation">:</span>
  <span class="token key atrule">my_src</span><span class="token punctuation">:</span>
    <span class="token key atrule">image</span><span class="token punctuation">:</span> mysql<span class="token punctuation">:</span><span class="token number">8.0</span>
    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> mysql_data<span class="token punctuation">:</span>/var/lib/mysql

<span class="token key atrule">volumes</span><span class="token punctuation">:</span>
  <span class="token key atrule">mysql_data</span><span class="token punctuation">:</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_14-5-docker-compose-å¸¸ç”¨å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#_14-5-docker-compose-å¸¸ç”¨å‘½ä»¤" aria-hidden="true">#</a> 14.5 docker-compose å¸¸ç”¨å‘½ä»¤</h3><ol><li>å‘½ä»¤å¯¹è±¡ä¸æ ¼å¼</li></ol><p>å¯¹äº Docker Compose æ¥è¯´ï¼Œå¤§éƒ¨åˆ†å‘½ä»¤çš„å¯¹è±¡æ—¢å¯ä»¥æ˜¯é¡¹ç›®æœ¬èº«ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šä¸ºé¡¹ç›®ä¸­çš„æœåŠ¡æˆ–è€…å®¹å™¨ã€‚å¦‚æœæ²¡æœ‰ç‰¹åˆ«çš„è¯´æ˜ï¼Œå‘½ä»¤å¯¹è±¡å°†æ˜¯é¡¹ç›®ï¼Œè¿™æ„å‘³ç€é¡¹ç›®ä¸­æ‰€æœ‰çš„æœåŠ¡éƒ½ä¼šå—åˆ°å‘½ä»¤å½±å“ã€‚</p><p>æ‰§è¡Œ <code>docker-compose [COMMAND] --help</code> æˆ–è€… <code>docker-compose help [COMMAND]</code> å¯ä»¥æŸ¥çœ‹å…·ä½“æŸä¸ªå‘½ä»¤çš„ä½¿ç”¨æ ¼å¼ã€‚</p><p><code>docker-compose</code> å‘½ä»¤çš„åŸºæœ¬çš„ä½¿ç”¨æ ¼å¼æ˜¯</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">docker-compose</span> <span class="token punctuation">[</span>-f<span class="token operator">=</span><span class="token operator">&lt;</span>arg<span class="token operator">&gt;</span><span class="token punctuation">..</span>.<span class="token punctuation">]</span> <span class="token punctuation">[</span>options<span class="token punctuation">]</span> <span class="token punctuation">[</span>COMMAND<span class="token punctuation">]</span> <span class="token punctuation">[</span>ARGS<span class="token punctuation">..</span>.<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>å‘½ä»¤é€‰é¡¹</li></ol><ul><li><code>-f, --file FILE</code> æŒ‡å®šä½¿ç”¨çš„ Compose æ¨¡æ¿æ–‡ä»¶ï¼Œé»˜è®¤ä¸º <code>docker-compose.yml</code>ï¼Œå¯ä»¥å¤šæ¬¡æŒ‡å®šã€‚</li><li><code>-p, --project-name NAME</code> æŒ‡å®šé¡¹ç›®åç§°ï¼Œé»˜è®¤å°†ä½¿ç”¨æ‰€åœ¨ç›®å½•åç§°ä½œä¸ºé¡¹ç›®åã€‚</li><li><code>--x-networking</code> ä½¿ç”¨ Docker çš„å¯æ‹”æ’ç½‘ç»œåç«¯ç‰¹æ€§</li><li><code>--x-network-driver DRIVER</code> æŒ‡å®šç½‘ç»œåç«¯çš„é©±åŠ¨ï¼Œé»˜è®¤ä¸º <code>bridge</code></li><li><code>--verbose</code> è¾“å‡ºæ›´å¤šè°ƒè¯•ä¿¡æ¯ã€‚</li><li><code>-v, --version</code> æ‰“å°ç‰ˆæœ¬å¹¶é€€å‡ºã€‚</li></ul><ol start="3"><li>å‘½ä»¤ä½¿ç”¨è¯´æ˜</li></ol><ul><li><code>up</code></li></ul><p>æ ¼å¼ä¸ºï¼š<code>docker-compose up [options] [SERVICE...]</code>.</p><blockquote><ul><li>è¯¥å‘½ä»¤ååˆ†å¼ºå¤§ï¼Œå®ƒå°†å°è¯•è‡ªåŠ¨å®ŒæˆåŒ…æ‹¬æ„å»ºé•œåƒï¼Œï¼ˆé‡æ–°ï¼‰åˆ›å»ºæœåŠ¡ï¼Œå¯åŠ¨æœåŠ¡ï¼Œå¹¶å…³è”æœåŠ¡ç›¸å…³å®¹å™¨çš„ä¸€ç³»åˆ—æ“ä½œã€‚</li><li>é“¾æ¥çš„æœåŠ¡éƒ½å°†ä¼šè¢«è‡ªåŠ¨å¯åŠ¨ï¼Œé™¤éå·²ç»å¤„äºè¿è¡ŒçŠ¶æ€ã€‚</li><li>å¯ä»¥è¯´ï¼Œå¤§éƒ¨åˆ†æ—¶å€™éƒ½å¯ä»¥ç›´æ¥é€šè¿‡è¯¥å‘½ä»¤æ¥å¯åŠ¨ä¸€ä¸ªé¡¹ç›®ã€‚</li><li>é»˜è®¤æƒ…å†µï¼Œ<code>docker-compose up</code> å¯åŠ¨çš„å®¹å™¨éƒ½åœ¨å‰å°ï¼Œæ§åˆ¶å°å°†ä¼šåŒæ—¶æ‰“å°æ‰€æœ‰å®¹å™¨çš„è¾“å‡ºä¿¡æ¯ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿è¿›è¡Œè°ƒè¯•ã€‚</li><li>å½“é€šè¿‡ <code>Ctrl-C</code> åœæ­¢å‘½ä»¤æ—¶ï¼Œæ‰€æœ‰å®¹å™¨å°†ä¼šåœæ­¢ã€‚</li><li>å¦‚æœä½¿ç”¨ <code>docker-compose up -d</code>ï¼Œå°†ä¼šåœ¨åå°å¯åŠ¨å¹¶è¿è¡Œæ‰€æœ‰çš„å®¹å™¨ã€‚ä¸€èˆ¬æ¨èç”Ÿäº§ç¯å¢ƒä¸‹ä½¿ç”¨è¯¥é€‰é¡¹ã€‚</li><li>é»˜è®¤æƒ…å†µï¼Œå¦‚æœæœåŠ¡å®¹å™¨å·²ç»å­˜åœ¨ï¼Œ<code>docker-compose up</code> å°†ä¼šå°è¯•åœæ­¢å®¹å™¨ï¼Œç„¶åé‡æ–°åˆ›å»ºï¼ˆä¿æŒä½¿ç”¨ <code>volumes-from</code> æŒ‚è½½çš„å·ï¼‰ï¼Œä»¥ä¿è¯æ–°å¯åŠ¨çš„æœåŠ¡åŒ¹é… <code>docker-compose.yml</code> æ–‡ä»¶çš„æœ€æ–°å†…å®¹</li></ul></blockquote><ul><li><code>down</code></li></ul><p>æ­¤å‘½ä»¤å°†ä¼šåœæ­¢ <code>up</code> å‘½ä»¤æ‰€å¯åŠ¨çš„å®¹å™¨ï¼Œå¹¶ç§»é™¤ç½‘ç»œã€‚</p><ul><li><code>exec</code></li></ul><p>è¿›å…¥æŒ‡å®šçš„å®¹å™¨ã€‚</p><ul><li><code>ps</code></li></ul><p>åˆ—å‡ºé¡¹ç›®ä¸­ç›®å‰çš„æ‰€æœ‰å®¹å™¨ã€‚</p><p>æ ¼å¼ä¸ºï¼š<code>docker-compose ps [options] [SERVICE...]</code>.</p><p>é€‰é¡¹ï¼š<code>-q</code> åªæ‰“å°å®¹å™¨çš„ ID ä¿¡æ¯ã€‚</p><ul><li><code>restart</code></li></ul><p>é‡å¯é¡¹ç›®ä¸­çš„æœåŠ¡ã€‚</p><p>æ ¼å¼ä¸ºï¼š<code>docker-compose restart [options] [SERVICE...]</code>.</p><p>é€‰é¡¹ï¼š<code>-t, --timeout TIMEOUT</code> æŒ‡å®šé‡å¯å‰åœæ­¢å®¹å™¨çš„è¶…æ—¶ï¼ˆé»˜è®¤ä¸º 10 ç§’ï¼‰ã€‚</p><ul><li><code>rm</code></li></ul><p>åˆ é™¤æ‰€æœ‰ï¼ˆåœæ­¢çŠ¶æ€çš„ï¼‰æœåŠ¡å®¹å™¨ã€‚æ¨èå…ˆæ‰§è¡Œ <code>docker-compose stop</code> å‘½ä»¤æ¥åœæ­¢å®¹å™¨ã€‚</p><p>æ ¼å¼ä¸ºï¼š<code>docker-compose rm [options] [SERVICE...]</code>.</p><p>é€‰é¡¹ï¼š</p><ul><li><p><code>-f, --force</code> å¼ºåˆ¶ç›´æ¥åˆ é™¤ï¼ŒåŒ…æ‹¬éåœæ­¢çŠ¶æ€çš„å®¹å™¨ã€‚ä¸€èˆ¬å°½é‡ä¸è¦ä½¿ç”¨è¯¥é€‰é¡¹ã€‚</p></li><li><p><code>-v</code> åˆ é™¤å®¹å™¨æ‰€æŒ‚è½½çš„æ•°æ®å·ã€‚</p></li><li><p><code>start</code></p></li></ul><p>å¯åŠ¨å·²ç»å­˜åœ¨çš„æœåŠ¡å®¹å™¨ã€‚</p><p>æ ¼å¼ä¸ºï¼š<code>docker-compose start [SERVICE...]</code>ã€‚</p><ul><li><code>stop</code></li></ul><p>åœæ­¢å·²ç»å¤„äºè¿è¡ŒçŠ¶æ€çš„å®¹å™¨ï¼Œä½†ä¸åˆ é™¤å®ƒã€‚é€šè¿‡ <code>docker-compose start</code> å¯ä»¥å†æ¬¡å¯åŠ¨è¿™äº›å®¹å™¨ã€‚</p><p>æ ¼å¼ä¸ºï¼š<code>docker-compose stop [options] [SERVICE...]</code>.</p><p>é€‰é¡¹ï¼š<code>-t, --timeout TIMEOUT</code> åœæ­¢å®¹å™¨æ—¶å€™çš„è¶…æ—¶ï¼ˆé»˜è®¤ä¸º 10 ç§’ï¼‰ã€‚</p><ul><li><code>top</code></li></ul><p>æŸ¥çœ‹å„ä¸ªæœåŠ¡å®¹å™¨å†…è¿è¡Œçš„è¿›ç¨‹ã€‚</p><ul><li><code>unpause</code></li></ul><p>æ¢å¤å¤„äºæš‚åœçŠ¶æ€ä¸­çš„æœåŠ¡ã€‚</p><p>æ ¼å¼ä¸º <code>docker-compose unpause [SERVICE...]</code>.</p><hr><h2 id="_15-docker-å¯è§†åŒ–å·¥å…·" tabindex="-1"><a class="header-anchor" href="#_15-docker-å¯è§†åŒ–å·¥å…·" aria-hidden="true">#</a> 15. Docker å¯è§†åŒ–å·¥å…·</h2><h3 id="_15-1-å®‰è£…-portainer" tabindex="-1"><a class="header-anchor" href="#_15-1-å®‰è£…-portainer" aria-hidden="true">#</a> 15.1 å®‰è£… Portainer</h3><blockquote><p>å®˜æ–¹å®‰è£…è¯´æ˜ï¼š<code>http://www.yunweipai.com/go?_=8fe4813824aHR0cHM6Ly93d3cucG9ydGFpbmVyLmlvL2luc3RhbGxhdGlvbi8=</code></p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token punctuation">[</span>root@ubuntu1804 ~<span class="token punctuation">]</span><span class="token comment">#docker pull  portainer/portainer</span>

<span class="token punctuation">[</span>root@ubuntu1804 ~<span class="token punctuation">]</span><span class="token comment">#docker volume create portainer_data</span>
portainer_data
<span class="token punctuation">[</span>root@ubuntu1804 ~<span class="token punctuation">]</span><span class="token comment">#docker run -d -p 8000:8000 -p 9000:9000 --name=portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer</span>
20db26b67b791648c2ef6aee444a5226a9c897ebcf0160050e722dbf4a4906e3
<span class="token punctuation">[</span>root@ubuntu1804 ~<span class="token punctuation">]</span><span class="token comment">#docker ps </span>
CONTAINER ID        IMAGE                 COMMAND             CREATED             STATUS              PORTS                                            NAMES
20db26b67b79        portainer/portainer   <span class="token string">&quot;/portainer&quot;</span>        <span class="token number">5</span> seconds ago       Up <span class="token number">4</span> seconds        <span class="token number">0.0</span>.0.0:8000-<span class="token operator">&gt;</span><span class="token number">8000</span>/tcp, <span class="token number">0.0</span>.0.0:9000-<span class="token operator">&gt;</span><span class="token number">9000</span>/tcp   portainer
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="_15-2-ç™»å½•å’Œä½¿ç”¨-portainer" tabindex="-1"><a class="header-anchor" href="#_15-2-ç™»å½•å’Œä½¿ç”¨-portainer" aria-hidden="true">#</a> 15.2 ç™»å½•å’Œä½¿ç”¨ Portainer</h3><blockquote><p>ç”¨æµè§ˆå™¨è®¿é—®ï¼š<code>http://localhost:9000</code></p></blockquote><p><img src="https://chen-coding.oss-cn-shenzhen.aliyuncs.com/server/container /01/image-20201223231707738.png" alt="" loading="lazy"></p><!--]--></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/chenyl8848/chenyl8848.github.io/edit/master/docs/server/docker/Docker.md" rel="noopener noreferrer" target="_blank" arialabel="ç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewbox="0 0 1024 1024" arialabelledby="edit"><title id="edit" lang="en">edit icon</title><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->ç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><span class="info">2024/10/10 03:26:59</span></div><div class="meta-item contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 1063415880@qq.com">chenyl8848</span>,<!--]--><!--[--><span class="contributor" title="email: 1063415880@qq.com">cyl</span><!--]--><!--]--></div></footer><nav class="page-nav"><a href="/server/docker/" class="nav-link active prev" arialabel="Docker"><div class="hint"><span class="arrow left"></span>ä¸Šä¸€é¡µ</div><div class="link"><i class="icon iconfont icon-docker"></i>Docker</div></a><a href="/server/docker/Docker_deploy.html" class="nav-link next" arialabel="Docker éƒ¨ç½²ä¸­é—´ä»¶"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow right"></span></div><div class="link">Docker éƒ¨ç½²ä¸­é—´ä»¶<!----></div></a></nav><div class="giscus-wrapper input-top" style="display:block;"><giscus-widget repo="chenyl8848/chenyl8848.github.io" repoId="R_kgDOHJ-qSQ" category="Announcements" categoryId="DIC_kwDOHJ-qSc4COg8Z" lang="zh-CN" theme="light" mapping="pathname" inputPosition="top" reactionsEnabled="1" emitMetadata="0"></giscus-widget></div><!----></main><!--]--><footer class="footer-wrapper"><div class="footer">æ²¡æœ‰æœ€å¥½ï¼Œåªæœ‰æ›´å¥½ï¼</div><div class="copyright">Copyright Â© 2025 Javaé™ˆåºå‘˜</div></footer></div><!--]--><!----><!--]--></div>
    <script type="module" src="/assets/app.06d697e7.js" defer></script>
  </body>
</html>
